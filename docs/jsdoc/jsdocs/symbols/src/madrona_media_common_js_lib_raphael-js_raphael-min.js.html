<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="COMM">/*
<span class='line'>  2</span>  * Raphael 1.3.1 - JavaScript Vector Library
<span class='line'>  3</span>  *
<span class='line'>  4</span>  * Copyright (c) 2008 - 2009 Dmitry Baranovskiy (http://raphaeljs.com)
<span class='line'>  5</span>  * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
<span class='line'>  6</span>  */</span><span class="WHIT">
<span class='line'>  7</span> </span><span class="NAME">Raphael</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">=</span><span class="REGX">/[, ]+/</span><span class="PUNC">,</span><span class="NAME">aO</span><span class="PUNC">=</span><span class="REGX">/^(circle|rect|path|ellipse|text|image)$/</span><span class="PUNC">,</span><span class="NAME">L</span><span class="PUNC">=</span><span class="NAME">document</span><span class="PUNC">,</span><span class="NAME">au</span><span class="PUNC">=</span><span class="NAME">window</span><span class="PUNC">,</span><span class="NAME">l</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">was</span><span class="PUNC">:</span><span class="STRN">"Raphael"</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">au</span><span class="PUNC">,</span><span class="NAME">is</span><span class="PUNC">:</span><span class="NAME">au.Raphael</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">an</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">w</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">an</span><span class="PUNC">,</span><span class="NAME">d.splice</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">+</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">al</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">e.set</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">&lt;</span><span class="NAME">a0</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">R</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aO.test</span><span class="PUNC">(</span><span class="NAME">E.type</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">E.type</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">attr</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">w</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">an</span><span class="PUNC">,</span><span class="NAME">arguments</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aT</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aL</span><span class="PUNC">=</span><span class="STRN">"appendChild"</span><span class="PUNC">,</span><span class="NAME">aW</span><span class="PUNC">=</span><span class="STRN">"apply"</span><span class="PUNC">,</span><span class="NAME">aS</span><span class="PUNC">=</span><span class="STRN">"concat"</span><span class="PUNC">,</span><span class="NAME">at</span><span class="PUNC">=</span><span class="STRN">""</span><span class="PUNC">,</span><span class="NAME">am</span><span class="PUNC">=</span><span class="STRN">" "</span><span class="PUNC">,</span><span class="NAME">z</span><span class="PUNC">=</span><span class="STRN">"split"</span><span class="PUNC">,</span><span class="NAME">F</span><span class="PUNC">=</span><span class="STRN">"click dblclick mousedown mousemove mouseout mouseover mouseup"</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">Q</span><span class="PUNC">=</span><span class="STRN">"hasOwnProperty"</span><span class="PUNC">,</span><span class="NAME">az</span><span class="PUNC">=</span><span class="STRN">"join"</span><span class="PUNC">,</span><span class="NAME">m</span><span class="PUNC">=</span><span class="STRN">"length"</span><span class="PUNC">,</span><span class="NAME">aY</span><span class="PUNC">=</span><span class="STRN">"prototype"</span><span class="PUNC">,</span><span class="NAME">aZ</span><span class="PUNC">=</span><span class="NAME">String</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">toLowerCase</span><span class="PUNC">,</span><span class="NAME">ab</span><span class="PUNC">=</span><span class="NAME">Math</span><span class="PUNC">,</span><span class="NAME">g</span><span class="PUNC">=</span><span class="NAME">ab.max</span><span class="PUNC">,</span><span class="NAME">aI</span><span class="PUNC">=</span><span class="NAME">ab.min</span><span class="PUNC">,</span><span class="NAME">al</span><span class="PUNC">=</span><span class="STRN">"number"</span><span class="PUNC">,</span><span class="NAME">aA</span><span class="PUNC">=</span><span class="STRN">"toString"</span><span class="PUNC">,</span><span class="NAME">aw</span><span class="PUNC">=</span><span class="NAME">Object</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">aQ</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aM</span><span class="PUNC">=</span><span class="NAME">ab.pow</span><span class="PUNC">,</span><span class="NAME">f</span><span class="PUNC">=</span><span class="STRN">"push"</span><span class="PUNC">,</span><span class="NAME">aU</span><span class="PUNC">=</span><span class="REGX">/^(?=[\da-f]$)/</span><span class="PUNC">,</span><span class="NAME">c</span><span class="PUNC">=</span><span class="REGX">/^url\(['"]?([^\)]+)['"]?\)$/i</span><span class="PUNC">,</span><span class="NAME">x</span><span class="PUNC">=</span><span class="REGX">/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgb\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|rgb\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i</span><span class="PUNC">,</span><span class="NAME">O</span><span class="PUNC">=</span><span class="NAME">ab.round</span><span class="PUNC">,</span><span class="NAME">v</span><span class="PUNC">=</span><span class="STRN">"setAttribute"</span><span class="PUNC">,</span><span class="NAME">W</span><span class="PUNC">=</span><span class="NAME">parseFloat</span><span class="PUNC">,</span><span class="NAME">G</span><span class="PUNC">=</span><span class="NAME">parseInt</span><span class="PUNC">,</span><span class="NAME">aN</span><span class="PUNC">=</span><span class="NAME">String</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">toUpperCase</span><span class="PUNC">,</span><span class="NAME">j</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="STRN">"clip-rect"</span><span class="PUNC">:</span><span class="STRN">"0 0 1e9 1e9"</span><span class="PUNC">,</span><span class="NAME">cursor</span><span class="PUNC">:</span><span class="STRN">"default"</span><span class="PUNC">,</span><span class="NAME">cx</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">cy</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"#fff"</span><span class="PUNC">,</span><span class="STRN">"fill-opacity"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">font</span><span class="PUNC">:</span><span class="STRN">'10px "Arial"'</span><span class="PUNC">,</span><span class="STRN">"font-family"</span><span class="PUNC">:</span><span class="STRN">'"Arial"'</span><span class="PUNC">,</span><span class="STRN">"font-size"</span><span class="PUNC">:</span><span class="STRN">"10"</span><span class="PUNC">,</span><span class="STRN">"font-style"</span><span class="PUNC">:</span><span class="STRN">"normal"</span><span class="PUNC">,</span><span class="STRN">"font-weight"</span><span class="PUNC">:</span><span class="NUMB">400</span><span class="PUNC">,</span><span class="NAME">gradient</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">href</span><span class="PUNC">:</span><span class="STRN">"http://raphaeljs.com/"</span><span class="PUNC">,</span><span class="NAME">opacity</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">path</span><span class="PUNC">:</span><span class="STRN">"M0,0"</span><span class="PUNC">,</span><span class="NAME">r</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">rotation</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">rx</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">ry</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">scale</span><span class="PUNC">:</span><span class="STRN">"1 1"</span><span class="PUNC">,</span><span class="NAME">src</span><span class="PUNC">:</span><span class="STRN">""</span><span class="PUNC">,</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">,</span><span class="STRN">"stroke-dasharray"</span><span class="PUNC">:</span><span class="STRN">""</span><span class="PUNC">,</span><span class="STRN">"stroke-linecap"</span><span class="PUNC">:</span><span class="STRN">"butt"</span><span class="PUNC">,</span><span class="STRN">"stroke-linejoin"</span><span class="PUNC">:</span><span class="STRN">"butt"</span><span class="PUNC">,</span><span class="STRN">"stroke-miterlimit"</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="STRN">"stroke-opacity"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="STRN">"stroke-width"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">target</span><span class="PUNC">:</span><span class="STRN">"_blank"</span><span class="PUNC">,</span><span class="STRN">"text-anchor"</span><span class="PUNC">:</span><span class="STRN">"middle"</span><span class="PUNC">,</span><span class="NAME">title</span><span class="PUNC">:</span><span class="STRN">"Raphael"</span><span class="PUNC">,</span><span class="NAME">translation</span><span class="PUNC">:</span><span class="STRN">"0 0"</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">Z</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">along</span><span class="PUNC">:</span><span class="STRN">"along"</span><span class="PUNC">,</span><span class="STRN">"clip-rect"</span><span class="PUNC">:</span><span class="STRN">"csv"</span><span class="PUNC">,</span><span class="NAME">cx</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="NAME">cy</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"colour"</span><span class="PUNC">,</span><span class="STRN">"fill-opacity"</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="STRN">"font-size"</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="NAME">opacity</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="NAME">path</span><span class="PUNC">:</span><span class="STRN">"path"</span><span class="PUNC">,</span><span class="NAME">r</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="NAME">rotation</span><span class="PUNC">:</span><span class="STRN">"csv"</span><span class="PUNC">,</span><span class="NAME">rx</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="NAME">ry</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="NAME">scale</span><span class="PUNC">:</span><span class="STRN">"csv"</span><span class="PUNC">,</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"colour"</span><span class="PUNC">,</span><span class="STRN">"stroke-opacity"</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="STRN">"stroke-width"</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="NAME">translation</span><span class="PUNC">:</span><span class="STRN">"csv"</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">al</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aP</span><span class="PUNC">=</span><span class="STRN">"replace"</span><span class="PUNC">;</span><span class="NAME">an.version</span><span class="PUNC">=</span><span class="STRN">"1.3.1"</span><span class="PUNC">;</span><span class="NAME">an.type</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">au.SVGAngle</span><span class="PUNC">||</span><span class="NAME">L.implementation.hasFeature</span><span class="PUNC">(</span><span class="STRN">"http://www.w3.org/TR/SVG11/feature#BasicStructure"</span><span class="PUNC">,</span><span class="STRN">"1.1"</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="STRN">"SVG"</span><span class="PUNC">:</span><span class="STRN">"VML"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.type</span><span class="PUNC">==</span><span class="STRN">"VML"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ag</span><span class="PUNC">=</span><span class="NAME">document.createElement</span><span class="PUNC">(</span><span class="STRN">"div"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">ag.innerHTML</span><span class="PUNC">=</span><span class="STRN">"&lt;!--[if vml]>&lt;br>&lt;br>&lt;![endif]-->"</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">ag.childNodes</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">an.svg</span><span class="PUNC">=</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">an.vml</span><span class="PUNC">=</span><span class="NAME">an.type</span><span class="PUNC">==</span><span class="STRN">"VML"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">an</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">an._id</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">an._oid</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">an.fn</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.is</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">aZ.call</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">==</span><span class="STRN">"object"</span><span class="PUNC">||</span><span class="NAME">d</span><span class="PUNC">==</span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">==</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">&&</span><span class="NAME">d</span><span class="PUNC">==</span><span class="STRN">"null"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">aZ.call</span><span class="PUNC">(</span><span class="NAME">aw.call</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">slice</span><span class="PUNC">(</span><span class="NUMB">8</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">==</span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.setWindow</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">au</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">L</span><span class="PUNC">=</span><span class="NAME">au.document</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">aD</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.vml</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="REGX">/^\s+|\s+$/g</span><span class="PUNC">;</span><span class="NAME">aD</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">try</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ActiveXObject</span><span class="PUNC">(</span><span class="STRN">"htmlfile"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a0.write</span><span class="PUNC">(</span><span class="STRN">"&lt;body>"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a0.close</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">a0.body</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">createPopup</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">document.body</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">S.createTextRange</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">try</span><span class="PUNC">{</span><span class="NAME">S.style.color</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">i.queryCommandValue</span><span class="PUNC">(</span><span class="STRN">"ForeColor"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">&</span><span class="NUMB">255</span><span class="PUNC">)</span><span class="PUNC">&lt;&lt;</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">|</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">&</span><span class="NUMB">65280</span><span class="PUNC">)</span><span class="PUNC">|</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">&</span><span class="NUMB">16711680</span><span class="PUNC">)</span><span class="PUNC">>>></span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="STRN">"000000"</span><span class="PUNC">+</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">slice</span><span class="PUNC">(</span><span class="PUNC">-</span><span class="NUMB">6</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="STRN">"none"</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">L.createElement</span><span class="PUNC">(</span><span class="STRN">"i"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.title</span><span class="PUNC">=</span><span class="STRN">"Rapha\xebl Colour Picker"</span><span class="PUNC">;</span><span class="NAME">E.style.display</span><span class="PUNC">=</span><span class="STRN">"none"</span><span class="PUNC">;</span><span class="NAME">L.body</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aD</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E.style.color</span><span class="PUNC">=</span><span class="NAME">i</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">L.defaultView.getComputedStyle</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getPropertyValue</span><span class="PUNC">(</span><span class="STRN">"color"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">aD</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.hsb2rgb</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="STRN">"h"</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">&&</span><span class="STRN">"s"</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">&&</span><span class="STRN">"b"</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">a3.b</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a3.s</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">a3.h</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">r</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">g</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">hex</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">||</span><span class="NAME">a1</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">||</span><span class="NAME">a7</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a3</span><span class="PUNC">/</span><span class="PUNC">=</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">/</span><span class="PUNC">=</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="NAME">a7</span><span class="PUNC">/</span><span class="PUNC">=</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">~</span><span class="PUNC">~</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NUMB">6</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NUMB">6</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">-</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">*</span><span class="NAME">a4</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">-</span><span class="NAME">a4</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a5</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">r</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">g</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">:</span><span class="NAME">a8</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">~</span><span class="PUNC">~</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">~</span><span class="PUNC">~</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">~</span><span class="PUNC">~</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aU</span><span class="PUNC">,</span><span class="STRN">"0"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aU</span><span class="PUNC">,</span><span class="STRN">"0"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aU</span><span class="PUNC">,</span><span class="STRN">"0"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a5.hex</span><span class="PUNC">=</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NAME">a2</span><span class="PUNC">+</span><span class="NAME">a6</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a5</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">an</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">an.rgb2hsb</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="STRN">"r"</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">&&</span><span class="STRN">"g"</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">&&</span><span class="STRN">"b"</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">d.b</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">d.g</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">d.r</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">an.getRGB</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">a3.r</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">a3.g</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a3.b</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">||</span><span class="NAME">e</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">||</span><span class="NAME">a1</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">/</span><span class="PUNC">=</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">/</span><span class="PUNC">=</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">/</span><span class="PUNC">=</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">g</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">aI</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">==</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">h</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">s</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">:</span><span class="NAME">a0</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">-</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">/</span><span class="NAME">a0</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">==</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">-</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a2</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">==</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NUMB">2</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">-</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NUMB">4</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">-</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">R</span><span class="PUNC">/</span><span class="PUNC">=</span><span class="NUMB">6</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">&lt;</span><span class="NUMB">0</span><span class="PUNC">&&</span><span class="NAME">R</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="NAME">R</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">h</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">s</span><span class="PUNC">:</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">an</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">aE</span><span class="PUNC">=</span><span class="REGX">/,?([achlmqrstvxz]),?/gi</span><span class="PUNC">;</span><span class="NAME">an._path2string</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.join</span><span class="PUNC">(</span><span class="STRN">","</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aE</span><span class="PUNC">,</span><span class="STRN">"$1"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">aj</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">Array</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">slice.call</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"\u25ba"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">i.cache</span><span class="PUNC">=</span><span class="NAME">i.cache</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">i.count</span><span class="PUNC">=</span><span class="NAME">i.count</span><span class="PUNC">||</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">?</span><span class="NAME">d</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">>=</span><span class="NUMB">1000</span><span class="PUNC">&&</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">a1.shift</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">?</span><span class="NAME">d</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">an.getRGB</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">d</span><span class="PUNC">||</span><span class="PUNC">!</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">indexOf</span><span class="PUNC">(</span><span class="STRN">"-"</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">r</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">g</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">hex</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">,</span><span class="NAME">error</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">==</span><span class="STRN">"none"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">r</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">g</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">hex</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">hs</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">rg</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">d.substring</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">d.charAt</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">==</span><span class="STRN">"#"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">aD</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">d.match</span><span class="PUNC">(</span><span class="NAME">x</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">G</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">substring</span><span class="PUNC">(</span><span class="NUMB">5</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">G</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">substring</span><span class="PUNC">(</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="NUMB">5</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">G</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">substring</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">G</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">charAt</span><span class="PUNC">(</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">G</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">charAt</span><span class="PUNC">(</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">G</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">charAt</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/\s*,\s*/</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/\s*,\s*/</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">2.55</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">2.55</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">2.55</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/\s*,\s*/</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">an.hsb2rgb</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">7</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">7</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/\s*,\s*/</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">2.55</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">2.55</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">2.55</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">an.hsb2rgb</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">r</span><span class="PUNC">:</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">g</span><span class="PUNC">:</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">:</span><span class="NAME">a2</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">~</span><span class="PUNC">~</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">~</span><span class="PUNC">~</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">~</span><span class="PUNC">~</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aU</span><span class="PUNC">,</span><span class="STRN">"0"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aU</span><span class="PUNC">,</span><span class="STRN">"0"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aU</span><span class="PUNC">,</span><span class="STRN">"0"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a0.hex</span><span class="PUNC">=</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">+</span><span class="NAME">R</span><span class="PUNC">+</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">r</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">g</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">hex</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">,</span><span class="NAME">error</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">an</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">an.getColor</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">this.getColor.start</span><span class="PUNC">=</span><span class="NAME">this.getColor.start</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="NAME">h</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">s</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">||</span><span class="NUMB">0.75</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">this.hsb2rgb</span><span class="PUNC">(</span><span class="NAME">i.h</span><span class="PUNC">,</span><span class="NAME">i.s</span><span class="PUNC">,</span><span class="NAME">i.b</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.h</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NUMB">0.075</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">i.h</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">i.h</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">i.s</span><span class="PUNC">-</span><span class="PUNC">=</span><span class="NUMB">0.2</span><span class="PUNC">;</span><span class="NAME">i.s</span><span class="PUNC">&lt;=</span><span class="NUMB">0</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">this.getColor.start</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">h</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">s</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">:</span><span class="NAME">i.b</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">d.hex</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.getColor.reset</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">this.start</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.parsePathString</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">a</span><span class="PUNC">:</span><span class="NUMB">7</span><span class="PUNC">,</span><span class="NAME">c</span><span class="PUNC">:</span><span class="NUMB">6</span><span class="PUNC">,</span><span class="NAME">h</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">l</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">m</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">q</span><span class="PUNC">:</span><span class="NUMB">4</span><span class="PUNC">,</span><span class="NAME">s</span><span class="PUNC">:</span><span class="NUMB">4</span><span class="PUNC">,</span><span class="NAME">t</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">v</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">av</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">aZ.call</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a2</span><span class="PUNC">&&</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">>=</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a0.splice</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">an._path2string</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">an.findDotsAtSegment</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">be</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">-</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">e</span><span class="PUNC">+</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">3</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">be</span><span class="PUNC">+</span><span class="NAME">a6</span><span class="PUNC">*</span><span class="NUMB">3</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">a0</span><span class="PUNC">+</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">3</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">bc</span><span class="PUNC">+</span><span class="NAME">a6</span><span class="PUNC">*</span><span class="NUMB">3</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">R</span><span class="PUNC">+</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">+</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">be</span><span class="PUNC">-</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">be</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">-</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">bc</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bd</span><span class="PUNC">=</span><span class="NAME">be</span><span class="PUNC">+</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">-</span><span class="NAME">be</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">a0</span><span class="PUNC">+</span><span class="NAME">be</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bb</span><span class="PUNC">=</span><span class="NAME">bc</span><span class="PUNC">+</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">-</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">R</span><span class="PUNC">+</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">-</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">e</span><span class="PUNC">+</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">be</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">-</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">bc</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">-</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">a0</span><span class="PUNC">+</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">-</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">R</span><span class="PUNC">+</span><span class="NAME">a8</span><span class="PUNC">*</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NUMB">90</span><span class="PUNC">-</span><span class="NAME">ab.atan</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">-</span><span class="NAME">bd</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">-</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">180</span><span class="PUNC">/</span><span class="NAME">ab.PI</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">></span><span class="NAME">bd</span><span class="PUNC">||</span><span class="NAME">a9</span><span class="PUNC">&lt;</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NUMB">180</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">m</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a9</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">n</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">bd</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">bb</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">start</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a4</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">end</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">i</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">alpha</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">U</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">H</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">&lt;</span><span class="NAME">a4</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"M"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">aC</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a0.min.x</span><span class="PUNC">,</span><span class="NAME">a0.max.x</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a0.min.y</span><span class="PUNC">,</span><span class="NAME">a0.max.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">aI</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">aI</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">g</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">g</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NAME">a3</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">av</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="PUNC">!</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">&&</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">an.parsePathString</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">&lt;</span><span class="NAME">R</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">&lt;</span><span class="NAME">S</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">an._path2string</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">ad</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="PUNC">!</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">&&</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">an.parsePathString</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a4</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"M"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="PUNC">[</span><span class="STRN">"M"</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">&lt;</span><span class="NAME">ba</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="NAME">aZ.call</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">aZ.call</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"a"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">toFixed</span><span class="PUNC">(</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">7</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">7</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">toFixed</span><span class="PUNC">(</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"v"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">toFixed</span><span class="PUNC">(</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"m"</span><span class="PUNC">:</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">default</span><span class="PUNC">:</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">&lt;</span><span class="NAME">a2</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">%</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="NAME">a6</span><span class="PUNC">:</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">toFixed</span><span class="PUNC">(</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"m"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">a6</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">&lt;</span><span class="NAME">e</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"z"</span><span class="PUNC">:</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">a9</span><span class="PUNC">;</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"h"</span><span class="PUNC">:</span><span class="NAME">a6</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">a3</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"v"</span><span class="PUNC">:</span><span class="NAME">a5</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">a3</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">default</span><span class="PUNC">:</span><span class="NAME">a6</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">a3</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a5</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">a3</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">an._path2string</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a4</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">av</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">r</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="PUNC">!</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">&&</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">an.parsePathString</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"M"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"M"</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">&lt;</span><span class="NAME">a9</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="NAME">aN.call</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">aN.call</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"A"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">7</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">7</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">a4</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"V"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">a4</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"H"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"M"</span><span class="PUNC">:</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">a4</span><span class="PUNC">;</span><span class="KEYW">default</span><span class="PUNC">:</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">&lt;</span><span class="NAME">a2</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">%</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="NAME">a5</span><span class="PUNC">:</span><span class="NAME">a4</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">&lt;</span><span class="NAME">e</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"Z"</span><span class="PUNC">:</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">;</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"H"</span><span class="PUNC">:</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"V"</span><span class="PUNC">:</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">default</span><span class="PUNC">:</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">an._path2string</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">av</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">aX</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aK</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">/</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NUMB">2</span><span class="PUNC">/</span><span class="NUMB">3</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">e</span><span class="PUNC">+</span><span class="NAME">a1</span><span class="PUNC">*</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">E</span><span class="PUNC">+</span><span class="NAME">a1</span><span class="PUNC">*</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NAME">a1</span><span class="PUNC">*</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">i</span><span class="PUNC">+</span><span class="NAME">a1</span><span class="PUNC">*</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">K</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">bE</span><span class="PUNC">,</span><span class="NAME">bi</span><span class="PUNC">,</span><span class="NAME">bg</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">bD</span><span class="PUNC">,</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">ab.PI</span><span class="PUNC">,</span><span class="NAME">bf</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">*</span><span class="NUMB">120</span><span class="PUNC">/</span><span class="NUMB">180</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">/</span><span class="NUMB">180</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">ba</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bm</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">bj</span><span class="PUNC">,</span><span class="NAME">bA</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">bF</span><span class="PUNC">,</span><span class="NAME">bI</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bH</span><span class="PUNC">=</span><span class="NAME">bF</span><span class="PUNC">*</span><span class="NAME">ab.cos</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NAME">bI</span><span class="PUNC">*</span><span class="NAME">ab.sin</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bG</span><span class="PUNC">=</span><span class="NAME">bF</span><span class="PUNC">*</span><span class="NAME">ab.sin</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">bI</span><span class="PUNC">*</span><span class="NAME">ab.cos</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">bH</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">bG</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bj</span><span class="PUNC">=</span><span class="NAME">bA</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">bE</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">bj.x</span><span class="PUNC">;</span><span class="NAME">bE</span><span class="PUNC">=</span><span class="NAME">bj.y</span><span class="PUNC">;</span><span class="NAME">bj</span><span class="PUNC">=</span><span class="NAME">bA</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">bD</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">bj.x</span><span class="PUNC">;</span><span class="NAME">bD</span><span class="PUNC">=</span><span class="NAME">bj.y</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">ab.cos</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">/</span><span class="NUMB">180</span><span class="PUNC">*</span><span class="NAME">ba</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">ab.sin</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">/</span><span class="NUMB">180</span><span class="PUNC">*</span><span class="NAME">ba</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bo</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">-</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">bn</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">bE</span><span class="PUNC">-</span><span class="NAME">bD</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="NAME">bi</span><span class="PUNC">=</span><span class="NAME">g</span><span class="PUNC">(</span><span class="NAME">bi</span><span class="PUNC">,</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">bo</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bg</span><span class="PUNC">=</span><span class="NAME">g</span><span class="PUNC">(</span><span class="NAME">bg</span><span class="PUNC">,</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">bn</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">by</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">bo</span><span class="PUNC">*</span><span class="NAME">bo</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="PUNC">(</span><span class="NAME">bi</span><span class="PUNC">*</span><span class="NAME">bi</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">bn</span><span class="PUNC">*</span><span class="NAME">bn</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="PUNC">(</span><span class="NAME">bg</span><span class="PUNC">*</span><span class="NAME">bg</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">by</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bi</span><span class="PUNC">=</span><span class="NAME">ab.sqrt</span><span class="PUNC">(</span><span class="NAME">by</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">bi</span><span class="PUNC">;</span><span class="NAME">bg</span><span class="PUNC">=</span><span class="NAME">ab.sqrt</span><span class="PUNC">(</span><span class="NAME">by</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">bg</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">bi</span><span class="PUNC">*</span><span class="NAME">bi</span><span class="PUNC">,</span><span class="NAME">br</span><span class="PUNC">=</span><span class="NAME">bg</span><span class="PUNC">*</span><span class="NAME">bg</span><span class="PUNC">,</span><span class="NAME">bt</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">==</span><span class="NAME">S</span><span class="PUNC">?</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">ab.sqrt</span><span class="PUNC">(</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">*</span><span class="NAME">br</span><span class="PUNC">-</span><span class="NAME">E</span><span class="PUNC">*</span><span class="NAME">bn</span><span class="PUNC">*</span><span class="NAME">bn</span><span class="PUNC">-</span><span class="NAME">br</span><span class="PUNC">*</span><span class="NAME">bo</span><span class="PUNC">*</span><span class="NAME">bo</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">*</span><span class="NAME">bn</span><span class="PUNC">*</span><span class="NAME">bn</span><span class="PUNC">+</span><span class="NAME">br</span><span class="PUNC">*</span><span class="NAME">bo</span><span class="PUNC">*</span><span class="NAME">bo</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bd</span><span class="PUNC">=</span><span class="NAME">bt</span><span class="PUNC">*</span><span class="NAME">bi</span><span class="PUNC">*</span><span class="NAME">bn</span><span class="PUNC">/</span><span class="NAME">bg</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">+</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">=</span><span class="NAME">bt</span><span class="PUNC">*</span><span class="PUNC">-</span><span class="NAME">bg</span><span class="PUNC">*</span><span class="NAME">bo</span><span class="PUNC">/</span><span class="NAME">bi</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">bE</span><span class="PUNC">+</span><span class="NAME">bD</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">ab.asin</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">bE</span><span class="PUNC">-</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">bg</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">toFixed</span><span class="PUNC">(</span><span class="NUMB">7</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">ab.asin</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">bD</span><span class="PUNC">-</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">bg</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">toFixed</span><span class="PUNC">(</span><span class="NUMB">7</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">a9</span><span class="PUNC">&lt;</span><span class="NAME">bd</span><span class="PUNC">?</span><span class="NAME">R</span><span class="PUNC">-</span><span class="NAME">a3</span><span class="PUNC">:</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">&lt;</span><span class="NAME">bd</span><span class="PUNC">?</span><span class="NAME">R</span><span class="PUNC">-</span><span class="NAME">a2</span><span class="PUNC">:</span><span class="NAME">a2</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">&lt;</span><span class="NUMB">0</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">+</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">&lt;</span><span class="NUMB">0</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">+</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">&&</span><span class="NAME">a3</span><span class="PUNC">></span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">-</span><span class="NAME">R</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">S</span><span class="PUNC">&&</span><span class="NAME">a2</span><span class="PUNC">></span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">-</span><span class="NAME">R</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bd</span><span class="PUNC">=</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bc</span><span class="PUNC">=</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">-</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">)</span><span class="PUNC">></span><span class="NAME">bf</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">be</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">bh</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">bD</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">+</span><span class="NAME">bf</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">&&</span><span class="NAME">a2</span><span class="PUNC">></span><span class="NAME">a3</span><span class="PUNC">?</span><span class="NUMB">1</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">bd</span><span class="PUNC">+</span><span class="NAME">bi</span><span class="PUNC">*</span><span class="NAME">ab.cos</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bD</span><span class="PUNC">=</span><span class="NAME">bc</span><span class="PUNC">+</span><span class="NAME">bg</span><span class="PUNC">*</span><span class="NAME">ab.sin</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bm</span><span class="PUNC">=</span><span class="NAME">K</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">bD</span><span class="PUNC">,</span><span class="NAME">bi</span><span class="PUNC">,</span><span class="NAME">bg</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">bh</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">be</span><span class="PUNC">,</span><span class="NAME">bd</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">-</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">ab.cos</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bC</span><span class="PUNC">=</span><span class="NAME">ab.sin</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">ab.cos</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bB</span><span class="PUNC">=</span><span class="NAME">ab.sin</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bp</span><span class="PUNC">=</span><span class="NAME">ab.tan</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">/</span><span class="NUMB">4</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bs</span><span class="PUNC">=</span><span class="NUMB">4</span><span class="PUNC">/</span><span class="NUMB">3</span><span class="PUNC">*</span><span class="NAME">bi</span><span class="PUNC">*</span><span class="NAME">bp</span><span class="PUNC">,</span><span class="NAME">bq</span><span class="PUNC">=</span><span class="NUMB">4</span><span class="PUNC">/</span><span class="NUMB">3</span><span class="PUNC">*</span><span class="NAME">bg</span><span class="PUNC">*</span><span class="NAME">bp</span><span class="PUNC">,</span><span class="NAME">bz</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">bE</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">bx</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">a9</span><span class="PUNC">+</span><span class="NAME">bs</span><span class="PUNC">*</span><span class="NAME">bC</span><span class="PUNC">,</span><span class="NAME">bE</span><span class="PUNC">-</span><span class="NAME">bq</span><span class="PUNC">*</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">bw</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="NAME">bs</span><span class="PUNC">*</span><span class="NAME">bB</span><span class="PUNC">,</span><span class="NAME">bD</span><span class="PUNC">-</span><span class="NAME">bq</span><span class="PUNC">*</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">bu</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">bD</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bx</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">bz</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">bx</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bx</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">bz</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">bx</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">[</span><span class="NAME">bx</span><span class="PUNC">,</span><span class="NAME">bw</span><span class="PUNC">,</span><span class="NAME">bu</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">bm</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">bm</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">bx</span><span class="PUNC">,</span><span class="NAME">bw</span><span class="PUNC">,</span><span class="NAME">bu</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">bm</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">","</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bk</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bv</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">bl</span><span class="PUNC">=</span><span class="NAME">bm</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bv</span><span class="PUNC">&lt;</span><span class="NAME">bl</span><span class="PUNC">;</span><span class="NAME">bv</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bk</span><span class="PUNC">[</span><span class="NAME">bv</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">bv</span><span class="PUNC">%</span><span class="NUMB">2</span><span class="PUNC">?</span><span class="NAME">bA</span><span class="PUNC">(</span><span class="NAME">bm</span><span class="PUNC">[</span><span class="NAME">bv</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">bm</span><span class="PUNC">[</span><span class="NAME">bv</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">bA</span><span class="PUNC">(</span><span class="NAME">bm</span><span class="PUNC">[</span><span class="NAME">bv</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">bm</span><span class="PUNC">[</span><span class="NAME">bv</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">x</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">bk</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">M</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">-</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">e</span><span class="PUNC">+</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">3</span><span class="PUNC">*</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NAME">E</span><span class="PUNC">+</span><span class="NAME">R</span><span class="PUNC">*</span><span class="NUMB">3</span><span class="PUNC">*</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NAME">a2</span><span class="PUNC">+</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">3</span><span class="PUNC">*</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NAME">i</span><span class="PUNC">+</span><span class="NAME">R</span><span class="PUNC">*</span><span class="NUMB">3</span><span class="PUNC">*</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NAME">a1</span><span class="PUNC">+</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">S</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aC</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a7</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">R</span><span class="PUNC">+</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">a9</span><span class="PUNC">+</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">-</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">-</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">i</span><span class="PUNC">-</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">-</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="NAME">ab.sqrt</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">*</span><span class="NAME">a4</span><span class="PUNC">-</span><span class="NUMB">4</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">*</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">/</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">-</span><span class="NAME">a4</span><span class="PUNC">-</span><span class="NAME">ab.sqrt</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">*</span><span class="NAME">a4</span><span class="PUNC">-</span><span class="NUMB">4</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">*</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">/</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">;</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">></span><span class="NUMB">1000000000000</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NUMB">0.5</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">></span><span class="NUMB">1000000000000</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NUMB">0.5</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">></span><span class="NUMB">0</span><span class="PUNC">&&</span><span class="NAME">a0</span><span class="PUNC">&lt;</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">M</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e.x</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">></span><span class="NUMB">0</span><span class="PUNC">&&</span><span class="NAME">S</span><span class="PUNC">&lt;</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">M</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e.x</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">E</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">-</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">-</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">-</span><span class="NAME">E</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">-</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="NAME">ab.sqrt</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">*</span><span class="NAME">a4</span><span class="PUNC">-</span><span class="NUMB">4</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">*</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">/</span><span class="NAME">a7</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">-</span><span class="NAME">a4</span><span class="PUNC">-</span><span class="NAME">ab.sqrt</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">*</span><span class="NAME">a4</span><span class="PUNC">-</span><span class="NUMB">4</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">*</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">/</span><span class="NAME">a7</span><span class="PUNC">;</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">></span><span class="NUMB">1000000000000</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NUMB">0.5</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">></span><span class="NUMB">1000000000000</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NUMB">0.5</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">></span><span class="NUMB">0</span><span class="PUNC">&&</span><span class="NAME">a0</span><span class="PUNC">&lt;</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">M</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e.x</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">></span><span class="NUMB">0</span><span class="PUNC">&&</span><span class="NAME">S</span><span class="PUNC">&lt;</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">M</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e.x</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">min</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">aI</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">aI</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">max</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">g</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">g</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">H</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">r</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">&&</span><span class="NAME">r</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">bx</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">by</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">X</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">Y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">qx</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">qy</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">bx</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">by</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">X</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">Y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">qx</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">qy</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">ba</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">[</span><span class="STRN">"C"</span><span class="PUNC">,</span><span class="NAME">bb.x</span><span class="PUNC">,</span><span class="NAME">bb.y</span><span class="PUNC">,</span><span class="NAME">bb.x</span><span class="PUNC">,</span><span class="NAME">bb.y</span><span class="PUNC">,</span><span class="NAME">bb.x</span><span class="PUNC">,</span><span class="NAME">bb.y</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">T</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">Q</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">bb.qx</span><span class="PUNC">=</span><span class="NAME">bb.qy</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"M"</span><span class="PUNC">:</span><span class="NAME">bb.X</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bb.Y</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"A"</span><span class="PUNC">:</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"C"</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">K</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="PUNC">[</span><span class="NAME">bb.x</span><span class="PUNC">,</span><span class="NAME">bb.y</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba.slice</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"S"</span><span class="PUNC">:</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">bb.x</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">bb.x</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">bb.bx</span><span class="PUNC">||</span><span class="NAME">bb.x</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bc</span><span class="PUNC">=</span><span class="NAME">bb.y</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">bb.y</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">bb.by</span><span class="PUNC">||</span><span class="NAME">bb.y</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"C"</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba.slice</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"T"</span><span class="PUNC">:</span><span class="NAME">bb.qx</span><span class="PUNC">=</span><span class="NAME">bb.x</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">bb.x</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">bb.qx</span><span class="PUNC">||</span><span class="NAME">bb.x</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bb.qy</span><span class="PUNC">=</span><span class="NAME">bb.y</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">bb.y</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">bb.qy</span><span class="PUNC">||</span><span class="NAME">bb.y</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"C"</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aK</span><span class="PUNC">(</span><span class="NAME">bb.x</span><span class="PUNC">,</span><span class="NAME">bb.y</span><span class="PUNC">,</span><span class="NAME">bb.qx</span><span class="PUNC">,</span><span class="NAME">bb.qy</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"Q"</span><span class="PUNC">:</span><span class="NAME">bb.qx</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bb.qy</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"C"</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aK</span><span class="PUNC">(</span><span class="NAME">bb.x</span><span class="PUNC">,</span><span class="NAME">bb.y</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"L"</span><span class="PUNC">:</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"C"</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aX</span><span class="PUNC">(</span><span class="NAME">bb.x</span><span class="PUNC">,</span><span class="NAME">bb.y</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"H"</span><span class="PUNC">:</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"C"</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aX</span><span class="PUNC">(</span><span class="NAME">bb.x</span><span class="PUNC">,</span><span class="NAME">bb.y</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">bb.y</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"V"</span><span class="PUNC">:</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"C"</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aX</span><span class="PUNC">(</span><span class="NAME">bb.x</span><span class="PUNC">,</span><span class="NAME">bb.y</span><span class="PUNC">,</span><span class="NAME">bb.x</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"Z"</span><span class="PUNC">:</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"C"</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">aX</span><span class="PUNC">(</span><span class="NAME">bb.x</span><span class="PUNC">,</span><span class="NAME">bb.y</span><span class="PUNC">,</span><span class="NAME">bb.X</span><span class="PUNC">,</span><span class="NAME">bb.Y</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">ba</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">></span><span class="NUMB">7</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">shift</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bc</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">ba.splice</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">++</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="PUNC">[</span><span class="STRN">"C"</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">bc.splice</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">6</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">ba.splice</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">g</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">be</span><span class="PUNC">,</span><span class="NAME">bd</span><span class="PUNC">,</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">be</span><span class="PUNC">&&</span><span class="NAME">bd</span><span class="PUNC">&&</span><span class="NAME">be</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"M"</span><span class="PUNC">&&</span><span class="NAME">bd</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="STRN">"M"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bd.splice</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="PUNC">[</span><span class="STRN">"M"</span><span class="PUNC">,</span><span class="NAME">ba.x</span><span class="PUNC">,</span><span class="NAME">ba.y</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bb.bx</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">bb.by</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">bb.x</span><span class="PUNC">=</span><span class="NAME">be</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bb.y</span><span class="PUNC">=</span><span class="NAME">be</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">g</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">g</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">&lt;</span><span class="NAME">a7</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="NAME">e</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a6.x</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a6.y</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a6.bx</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">-</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">a6.x</span><span class="PUNC">;</span><span class="NAME">a6.by</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">-</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">a6.y</span><span class="PUNC">;</span><span class="NAME">d.bx</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="NAME">a3</span><span class="PUNC">-</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">d.x</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.by</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="NAME">a3</span><span class="PUNC">-</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">d.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.x</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="NAME">a3</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d.y</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="NAME">a3</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a5</span><span class="PUNC">?</span><span class="PUNC">[</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">]</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">av</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">p</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">&lt;</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">match</span><span class="PUNC">(</span><span class="REGX">/^([^:]*):?([\d\.]*)/</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.color</span><span class="PUNC">=</span><span class="NAME">an.getRGB</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e.color.error</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">e.color</span><span class="PUNC">=</span><span class="NAME">e.color.hex</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">e.offset</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="STRN">"%"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">&lt;</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">offset</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">offset</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">&lt;</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">offset</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">offset</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NUMB">100</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">-</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">-</span><span class="NAME">a0</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">&lt;</span><span class="NAME">S</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">offset</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">+</span><span class="STRN">"%"</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">ao</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">L.getElementById</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">i.tagName</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">container</span><span class="PUNC">:</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">i.style.pixelWidth</span><span class="PUNC">||</span><span class="NAME">i.offsetWidth</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">i.style.pixelHeight</span><span class="PUNC">||</span><span class="NAME">i.offsetHeight</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">container</span><span class="PUNC">:</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">al</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">></span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">container</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aG</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="KEYW">this</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">E</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"function"</span><span class="PUNC">:</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">===</span><span class="NAME">e</span><span class="PUNC">?</span><span class="NAME">R</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">arguments</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"object"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aG.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">default</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">ak</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">==</span><span class="NAME">e.top</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">e.top</span><span class="PUNC">=</span><span class="NAME">d.prev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">==</span><span class="NAME">e.bottom</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">e.bottom</span><span class="PUNC">=</span><span class="NAME">d.next</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.next</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d.next.prev</span><span class="PUNC">=</span><span class="NAME">d.prev</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.prev</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d.prev.next</span><span class="PUNC">=</span><span class="NAME">d.next</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">Y</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e.top</span><span class="PUNC">===</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">ak</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.next</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="NAME">d.prev</span><span class="PUNC">=</span><span class="NAME">e.top</span><span class="PUNC">;</span><span class="NAME">e.top.next</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">e.top</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">k</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e.bottom</span><span class="PUNC">===</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">ak</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.next</span><span class="PUNC">=</span><span class="NAME">e.bottom</span><span class="PUNC">;</span><span class="NAME">d.prev</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="NAME">e.bottom.prev</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">e.bottom</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">A</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">ak</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">==</span><span class="NAME">i.top</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">i.top</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.next</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d.next.prev</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.next</span><span class="PUNC">=</span><span class="NAME">d.next</span><span class="PUNC">;</span><span class="NAME">e.prev</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">d.next</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aq</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">ak</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">==</span><span class="NAME">i.bottom</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">i.bottom</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.prev</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d.prev.next</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.prev</span><span class="PUNC">=</span><span class="NAME">d.prev</span><span class="PUNC">;</span><span class="NAME">d.prev</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="NAME">e.next</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">s</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">throw</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Error</span><span class="PUNC">(</span><span class="STRN">"Rapha\xebl: you are calling to method \u201c"</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">+</span><span class="STRN">"\u201d of removed object"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">ar</span><span class="PUNC">=</span><span class="REGX">/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.svg</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">svgns</span><span class="PUNC">=</span><span class="STRN">"http://www.w3.org/2000/svg"</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">xlink</span><span class="PUNC">=</span><span class="STRN">"http://www.w3.org/1999/xlink"</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">O</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="PUNC">~</span><span class="PUNC">~</span><span class="NAME">d</span><span class="PUNC">===</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">0.5</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">V</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">&lt;</span><span class="NAME">E</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">aZ.call</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">!=</span><span class="STRN">"a"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">&lt;</span><span class="NAME">R</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">7</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">7</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aJ</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">L.createElementNS</span><span class="PUNC">(</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">svgns</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="STRN">"Your browser supports SVG.\nYou are running Rapha\xebl "</span><span class="PUNC">+</span><span class="NAME">this.version</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">q</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"path"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.canvas</span><span class="PUNC">&&</span><span class="NAME">E.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.type</span><span class="PUNC">=</span><span class="STRN">"path"</span><span class="PUNC">;</span><span class="NAME">aa</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">,</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">,</span><span class="NAME">path</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a4</span><span class="PUNC">=</span><span class="STRN">"linear"</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">E.style</span><span class="PUNC">;</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ar</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="STRN">"radial"</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">&&</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">></span><span class="NUMB">0.5</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">-</span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">-</span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">></span><span class="NUMB">0.25</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">ab.sqrt</span><span class="PUNC">(</span><span class="NUMB">0.25</span><span class="PUNC">-</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">-</span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">ba</span><span class="PUNC">+</span><span class="NUMB">0.5</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">S</span><span class="PUNC">!=</span><span class="NUMB">0.5</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">S.toFixed</span><span class="PUNC">(</span><span class="NUMB">5</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NUMB">0.00001</span><span class="PUNC">*</span><span class="NAME">ba</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">at</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/\s*\-\s*/</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">==</span><span class="STRN">"linear"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a7.shift</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">-</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">isNaN</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">ab.cos</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">*</span><span class="NAME">ab.PI</span><span class="PUNC">/</span><span class="NUMB">180</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">ab.sin</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">*</span><span class="NAME">ab.PI</span><span class="PUNC">/</span><span class="NUMB">180</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">/</span><span class="PUNC">(</span><span class="NAME">g</span><span class="PUNC">(</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">&lt;</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">-</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">&lt;</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">-</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">p</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="STRN">"Gradient"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.id</span><span class="PUNC">=</span><span class="STRN">"r"</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">an._id</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">36</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">==</span><span class="STRN">"radial"</span><span class="PUNC">?</span><span class="PUNC">{</span><span class="NAME">fx</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">fy</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">}</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">x1</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">y1</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">x2</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">y2</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.defs</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">&lt;</span><span class="NAME">a8</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"stop"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">offset</span><span class="PUNC">:</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">offset</span><span class="PUNC">?</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">offset</span><span class="PUNC">:</span><span class="PUNC">!</span><span class="NAME">a2</span><span class="PUNC">?</span><span class="STRN">"0%"</span><span class="PUNC">:</span><span class="STRN">"100%"</span><span class="PUNC">,</span><span class="STRN">"stop-color"</span><span class="PUNC">:</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">color</span><span class="PUNC">||</span><span class="STRN">"#fff"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"url(#"</span><span class="PUNC">+</span><span class="NAME">e.id</span><span class="PUNC">+</span><span class="STRN">")"</span><span class="PUNC">,</span><span class="NAME">opacity</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="STRN">"fill-opacity"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a9.fill</span><span class="PUNC">=</span><span class="NAME">at</span><span class="PUNC">;</span><span class="NAME">a9.opacity</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="NAME">a9.fillOpacity</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">N</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">e.getBBox</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">e.pattern</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">patternTransform</span><span class="PUNC">:</span><span class="NAME">an.format</span><span class="PUNC">(</span><span class="STRN">"translate({0},{1})"</span><span class="PUNC">,</span><span class="NAME">d.x</span><span class="PUNC">,</span><span class="NAME">d.y</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">aa</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">bf</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a9</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="STRN">""</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">none</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"-"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"."</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"-."</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"-.."</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">". "</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"- "</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"--"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">8</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"- ."</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"--."</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">8</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"--.."</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">8</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">bb</span><span class="PUNC">=</span><span class="NAME">a6.node</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">a6.attrs</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">a6.rotate</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">bm</span><span class="PUNC">,</span><span class="NAME">bl</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bl</span><span class="PUNC">=</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">aZ.call</span><span class="PUNC">(</span><span class="NAME">bl</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">bl</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bj</span><span class="PUNC">=</span><span class="NAME">bm.attrs</span><span class="PUNC">[</span><span class="STRN">"stroke-width"</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="STRN">"1"</span><span class="PUNC">,</span><span class="NAME">bh</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">round</span><span class="PUNC">:</span><span class="NAME">bj</span><span class="PUNC">,</span><span class="NAME">square</span><span class="PUNC">:</span><span class="NAME">bj</span><span class="PUNC">,</span><span class="NAME">butt</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">[</span><span class="NAME">bm.attrs</span><span class="PUNC">[</span><span class="STRN">"stroke-linecap"</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="STRN">"stroke-linecap"</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">bk</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bi</span><span class="PUNC">=</span><span class="NAME">bl</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">bi</span><span class="PUNC">--</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bk</span><span class="PUNC">[</span><span class="NAME">bi</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">bl</span><span class="PUNC">[</span><span class="NAME">bi</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="NAME">bj</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">bi</span><span class="PUNC">%</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="NUMB">1</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">bh</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="STRN">"stroke-dasharray"</span><span class="PUNC">:</span><span class="NAME">bk</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">","</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"rotation"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">bf.rotation</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">a2.length</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">a6.rotate</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ba</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">bf</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">j</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">continue</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">;</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"rotation"</span><span class="PUNC">:</span><span class="NAME">a6.rotate</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"href"</span><span class="PUNC">:</span><span class="KEYW">case</span><span class="STRN">"title"</span><span class="PUNC">:</span><span class="KEYW">case</span><span class="STRN">"target"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bd</span><span class="PUNC">=</span><span class="NAME">bb.parentNode</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">aZ.call</span><span class="PUNC">(</span><span class="NAME">bd.tagName</span><span class="PUNC">)</span><span class="PUNC">!=</span><span class="STRN">"a"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"a"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bd.insertBefore</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bd</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">bd.setAttributeNS</span><span class="PUNC">(</span><span class="NAME">a6.paper.xlink</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"cursor"</span><span class="PUNC">:</span><span class="NAME">bb.style.cursor</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"clip-rect"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">4</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a6.clip</span><span class="PUNC">&&</span><span class="NAME">a6.clip.parentNode.parentNode.removeChild</span><span class="PUNC">(</span><span class="NAME">a6.clip.parentNode</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"clipPath"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"rect"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.id</span><span class="PUNC">=</span><span class="STRN">"r"</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">an._id</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">36</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6.paper.defs</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="STRN">"clip-path"</span><span class="PUNC">:</span><span class="STRN">"url(#"</span><span class="PUNC">+</span><span class="NAME">i.id</span><span class="PUNC">+</span><span class="STRN">")"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6.clip</span><span class="PUNC">=</span><span class="NAME">bc</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">be</span><span class="PUNC">=</span><span class="NAME">L.getElementById</span><span class="PUNC">(</span><span class="NAME">bb.getAttribute</span><span class="PUNC">(</span><span class="STRN">"clip-path"</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/(^url\(#|\)$)/g</span><span class="PUNC">,</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">be</span><span class="PUNC">&&</span><span class="NAME">be.parentNode.removeChild</span><span class="PUNC">(</span><span class="NAME">be</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="STRN">"clip-path"</span><span class="PUNC">:</span><span class="NAME">at</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">a6.clip</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"path"</span><span class="PUNC">:</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">&&</span><span class="NAME">a6.type</span><span class="PUNC">==</span><span class="STRN">"path"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a7.path</span><span class="PUNC">=</span><span class="NAME">V</span><span class="PUNC">(</span><span class="NAME">r</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">:</span><span class="NAME">a7.path</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"width"</span><span class="PUNC">:</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7.fx</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="STRN">"x"</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">a7.x</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">case</span><span class="STRN">"x"</span><span class="PUNC">:</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7.fx</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="PUNC">-</span><span class="NAME">a7.x</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">a7.width</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">case</span><span class="STRN">"rx"</span><span class="PUNC">:</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">==</span><span class="STRN">"rx"</span><span class="PUNC">&&</span><span class="NAME">a6.type</span><span class="PUNC">==</span><span class="STRN">"rect"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">case</span><span class="STRN">"cx"</span><span class="PUNC">:</span><span class="NAME">a2</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">==</span><span class="STRN">"x"</span><span class="PUNC">||</span><span class="NAME">ba</span><span class="PUNC">==</span><span class="STRN">"cx"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">-</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6.pattern</span><span class="PUNC">&&</span><span class="NAME">N</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"height"</span><span class="PUNC">:</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7.fy</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="STRN">"y"</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">a7.y</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">case</span><span class="STRN">"y"</span><span class="PUNC">:</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7.fy</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="PUNC">-</span><span class="NAME">a7.y</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">a7.height</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">case</span><span class="STRN">"ry"</span><span class="PUNC">:</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">==</span><span class="STRN">"ry"</span><span class="PUNC">&&</span><span class="NAME">a6.type</span><span class="PUNC">==</span><span class="STRN">"rect"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">case</span><span class="STRN">"cy"</span><span class="PUNC">:</span><span class="NAME">a2</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">==</span><span class="STRN">"y"</span><span class="PUNC">||</span><span class="NAME">ba</span><span class="PUNC">==</span><span class="STRN">"cy"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">-</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6.pattern</span><span class="PUNC">&&</span><span class="NAME">N</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"r"</span><span class="PUNC">:</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a6.type</span><span class="PUNC">==</span><span class="STRN">"rect"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">rx</span><span class="PUNC">:</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">ry</span><span class="PUNC">:</span><span class="NAME">a8</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"src"</span><span class="PUNC">:</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a6.type</span><span class="PUNC">==</span><span class="STRN">"image"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bb.setAttributeNS</span><span class="PUNC">(</span><span class="NAME">a6.paper.xlink</span><span class="PUNC">,</span><span class="STRN">"href"</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"stroke-width"</span><span class="PUNC">:</span><span class="NAME">bb.style.strokeWidth</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">;</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="STRN">"stroke-dasharray"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">S</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="STRN">"stroke-dasharray"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"stroke-dasharray"</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"translation"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">t.call</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"scale"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6.scale</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="PUNC">+</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="PUNC">+</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="PUNC">+</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="PUNC">+</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"fill"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">match</span><span class="PUNC">(</span><span class="NAME">c</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"pattern"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"image"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.id</span><span class="PUNC">=</span><span class="STRN">"r"</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">an._id</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">36</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">patternUnits</span><span class="PUNC">:</span><span class="STRN">"userSpaceOnUse"</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a5.setAttributeNS</span><span class="PUNC">(</span><span class="NAME">a6.paper.xlink</span><span class="PUNC">,</span><span class="STRN">"href"</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bg</span><span class="PUNC">=</span><span class="NAME">L.createElement</span><span class="PUNC">(</span><span class="STRN">"img"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bg.style.cssText</span><span class="PUNC">=</span><span class="STRN">"position:absolute;left:-9999em;top-9999em"</span><span class="PUNC">;</span><span class="NAME">bg.onload</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">this.offsetWidth</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">this.offsetHeight</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">this.offsetWidth</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">this.offsetHeight</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">L.body.removeChild</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6.paper.safari</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">L.body</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">bg</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bg.src</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a6.paper.defs</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bb.style.fill</span><span class="PUNC">=</span><span class="STRN">"url(#"</span><span class="PUNC">+</span><span class="NAME">i.id</span><span class="PUNC">+</span><span class="STRN">")"</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"url(#"</span><span class="PUNC">+</span><span class="NAME">i.id</span><span class="PUNC">+</span><span class="STRN">")"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6.pattern</span><span class="PUNC">=</span><span class="NAME">i</span><span class="PUNC">;</span><span class="NAME">a6.pattern</span><span class="PUNC">&&</span><span class="NAME">N</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">an.getRGB</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">error</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">bf.gradient</span><span class="PUNC">;</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">a7.gradient</span><span class="PUNC">;</span><span class="PUNC">!</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">a7.opacity</span><span class="PUNC">,</span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">bf.opacity</span><span class="PUNC">,</span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">opacity</span><span class="PUNC">:</span><span class="NAME">a7.opacity</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">!</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="STRN">"fill-opacity"</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="STRN">"fill-opacity"</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="STRN">"fill-opacity"</span><span class="PUNC">:</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="STRN">"fill-opacity"</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">circle</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">ellipse</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a6.type</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">charAt</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">!=</span><span class="STRN">"r"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">b</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">a6.paper</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a7.gradient</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">;</span><span class="NAME">a7.fill</span><span class="PUNC">=</span><span class="STRN">"none"</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">case</span><span class="STRN">"stroke"</span><span class="PUNC">:</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">an.getRGB</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">hex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"gradient"</span><span class="PUNC">:</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">circle</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">ellipse</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a6.type</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">charAt</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">!=</span><span class="STRN">"r"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">b</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">a6.paper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"opacity"</span><span class="PUNC">:</span><span class="KEYW">case</span><span class="STRN">"fill-opacity"</span><span class="PUNC">:</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7.gradient</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">L.getElementById</span><span class="PUNC">(</span><span class="NAME">bb.getAttribute</span><span class="PUNC">(</span><span class="STRN">"fill"</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/^url\(#|\)$/g</span><span class="PUNC">,</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">d.getElementsByTagName</span><span class="PUNC">(</span><span class="STRN">"stop"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"stop-opacity"</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">default</span><span class="PUNC">:</span><span class="NAME">ba</span><span class="PUNC">==</span><span class="STRN">"font-size"</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">G</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/(\-.)/g</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">bh</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">aN.call</span><span class="PUNC">(</span><span class="NAME">bh.substring</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bb.style</span><span class="PUNC">[</span><span class="NAME">a4</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">;</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">D</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">bf</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a6.rotate</span><span class="PUNC">(</span><span class="NAME">a2.join</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">a6.rotate</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">h</span><span class="PUNC">=</span><span class="NUMB">1.2</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">D</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d.type</span><span class="PUNC">!=</span><span class="STRN">"text"</span><span class="PUNC">||</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"text"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"font"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"font-size"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"x"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"y"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">d.attrs</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">d.node</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">e.firstChild</span><span class="PUNC">?</span><span class="NAME">G</span><span class="PUNC">(</span><span class="NAME">L.defaultView.getComputedStyle</span><span class="PUNC">(</span><span class="NAME">e.firstChild</span><span class="PUNC">,</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">getPropertyValue</span><span class="PUNC">(</span><span class="STRN">"font-size"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NUMB">10</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"text"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a3.text</span><span class="PUNC">=</span><span class="NAME">R.text</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">e.firstChild</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">e.removeChild</span><span class="PUNC">(</span><span class="NAME">e.firstChild</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">R.text</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"\n"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">&lt;</span><span class="NAME">a4</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"tspan"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">&&</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">dy</span><span class="PUNC">:</span><span class="NAME">a5</span><span class="PUNC">*</span><span class="NAME">h</span><span class="PUNC">,</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">a3.x</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">L.createTextNode</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">e.getElementsByTagName</span><span class="PUNC">(</span><span class="STRN">"tspan"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">&lt;</span><span class="NAME">a4</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">S</span><span class="PUNC">&&</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">S</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">dy</span><span class="PUNC">:</span><span class="NAME">a5</span><span class="PUNC">*</span><span class="NAME">h</span><span class="PUNC">,</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">a3.x</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a3.y</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">d.getBBox</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a3.y</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">a0.y</span><span class="PUNC">+</span><span class="NAME">a0.height</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">&&</span><span class="NAME">isFinite</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a3.y</span><span class="PUNC">+</span><span class="NAME">a2</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="NAME">this.id</span><span class="PUNC">=</span><span class="NAME">an._oid</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="NAME">this.node</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="NAME">e.raphael</span><span class="PUNC">=</span><span class="KEYW">this</span><span class="PUNC">;</span><span class="NAME">this.paper</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">this.attrs</span><span class="PUNC">=</span><span class="NAME">this.attrs</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">this.transformations</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">this._</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">tx</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">ty</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">rt</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">deg</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">cx</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">cy</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">sx</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">sy</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">!</span><span class="NAME">d.bottom</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d.bottom</span><span class="PUNC">=</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.prev</span><span class="PUNC">=</span><span class="NAME">d.top</span><span class="PUNC">;</span><span class="NAME">d.top</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d.top.next</span><span class="PUNC">=</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.top</span><span class="PUNC">=</span><span class="KEYW">this</span><span class="PUNC">;</span><span class="NAME">this.next</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">rotate</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this._.rt.cx</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">[</span><span class="NAME">this._.rt.deg</span><span class="PUNC">,</span><span class="NAME">this._.rt.cx</span><span class="PUNC">,</span><span class="NAME">this._.rt.cy</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._.rt.deg</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">this.getBBox</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this._.rt.deg</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">this._.rt.deg</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this._.rt.cx</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">this._.rt.cy</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">?</span><span class="NAME">i.x</span><span class="PUNC">+</span><span class="NAME">i.width</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">?</span><span class="NAME">i.y</span><span class="PUNC">+</span><span class="NAME">i.height</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">:</span><span class="NAME">E</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this._.rt.deg</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.transformations</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">an.format</span><span class="PUNC">(</span><span class="STRN">"rotate({0} {1} {2})"</span><span class="PUNC">,</span><span class="NAME">this._.rt.deg</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.clip</span><span class="PUNC">&&</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">this.clip</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">transform</span><span class="PUNC">:</span><span class="NAME">an.format</span><span class="PUNC">(</span><span class="STRN">"rotate({0} {1} {2})"</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NAME">this._.rt.deg</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">this.transformations</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">at</span><span class="PUNC">;</span><span class="NAME">this.clip</span><span class="PUNC">&&</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">this.clip</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">transform</span><span class="PUNC">:</span><span class="NAME">at</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">this.node</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">transform</span><span class="PUNC">:</span><span class="NAME">this.transformations</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">hide</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">!</span><span class="NAME">this.removed</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">this.node.style.display</span><span class="PUNC">=</span><span class="STRN">"none"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">show</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">!</span><span class="NAME">this.removed</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">this.node.style.display</span><span class="PUNC">=</span><span class="STRN">""</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">remove</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">ak</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">this.paper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.node.parentNode.removeChild</span><span class="PUNC">(</span><span class="NAME">this.node</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">this.removed</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getBBox</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">==</span><span class="STRN">"path"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">U</span><span class="PUNC">(</span><span class="NAME">this.attrs.path</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.node.style.display</span><span class="PUNC">==</span><span class="STRN">"none"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">try</span><span class="PUNC">{</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">this.node.getBBox</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="KEYW">finally</span><span class="PUNC">{</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">==</span><span class="STRN">"text"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">a1.x</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">Infinity</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">this.node.getNumberOfChars</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">&lt;</span><span class="NAME">R</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">this.node.getExtentOfChar</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">a0.y</span><span class="PUNC">&lt;</span><span class="NAME">a1.y</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a1.y</span><span class="PUNC">=</span><span class="NAME">a0.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">a0.y</span><span class="PUNC">+</span><span class="NAME">a0.height</span><span class="PUNC">-</span><span class="NAME">a1.y</span><span class="PUNC">></span><span class="NAME">a1.height</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a1.height</span><span class="PUNC">=</span><span class="NAME">a0.y</span><span class="PUNC">+</span><span class="NAME">a0.height</span><span class="PUNC">-</span><span class="NAME">a1.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">a0.x</span><span class="PUNC">+</span><span class="NAME">a0.width</span><span class="PUNC">-</span><span class="NAME">a1.x</span><span class="PUNC">></span><span class="NAME">a1.width</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a1.width</span><span class="PUNC">=</span><span class="NAME">a0.x</span><span class="PUNC">+</span><span class="NAME">a0.width</span><span class="PUNC">-</span><span class="NAME">a1.x</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">E</span><span class="PUNC">&&</span><span class="NAME">this.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">attr</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">this.attrs</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.attrs</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">this.attrs</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">this._.rt.deg</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.rotation</span><span class="PUNC">=</span><span class="NAME">this.rotate</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">this._.sx</span><span class="PUNC">!=</span><span class="NUMB">1</span><span class="PUNC">||</span><span class="NAME">this._.sy</span><span class="PUNC">!=</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.scale</span><span class="PUNC">=</span><span class="NAME">this.scale</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R.gradient</span><span class="PUNC">&&</span><span class="NAME">R.fill</span><span class="PUNC">==</span><span class="STRN">"none"</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.fill</span><span class="PUNC">=</span><span class="NAME">R.gradient</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">R.gradient</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"translation"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">t.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"rotation"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.rotate</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"scale"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.scale</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"fill"</span><span class="PUNC">&&</span><span class="NAME">this.attrs.fill</span><span class="PUNC">==</span><span class="STRN">"none"</span><span class="PUNC">&&</span><span class="NAME">this.attrs.gradient</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.attrs.gradient</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.attrs</span><span class="PUNC">[</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">this.attrs</span><span class="PUNC">[</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">aa</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">aa</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">toFront</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">this.node.parentNode</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">this.node</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">this.paper</span><span class="PUNC">;</span><span class="NAME">d.top</span><span class="PUNC">!=</span><span class="KEYW">this</span><span class="PUNC">&&</span><span class="NAME">Y</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">toBack</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.node.parentNode.firstChild</span><span class="PUNC">!=</span><span class="NAME">this.node</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.node.parentNode.insertBefore</span><span class="PUNC">(</span><span class="NAME">this.node</span><span class="PUNC">,</span><span class="NAME">this.node.parentNode.firstChild</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">k</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">this.paper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">this.paper</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">insertAfter</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">d.node</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e.nextSibling</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">e.parentNode.insertBefore</span><span class="PUNC">(</span><span class="NAME">this.node</span><span class="PUNC">,</span><span class="NAME">e.nextSibling</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">e.parentNode</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">this.node</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">A</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">this.paper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">insertBefore</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">d.node</span><span class="PUNC">;</span><span class="NAME">e.parentNode.insertBefore</span><span class="PUNC">(</span><span class="NAME">this.node</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aq</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">this.paper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">P</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"circle"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.canvas</span><span class="PUNC">&&</span><span class="NAME">e.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.attrs</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">cx</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">cy</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">r</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">,</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">i.type</span><span class="PUNC">=</span><span class="STRN">"circle"</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">i.attrs</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">aF</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"rect"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.canvas</span><span class="PUNC">&&</span><span class="NAME">i.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.attrs</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">r</span><span class="PUNC">:</span><span class="NAME">a0</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">rx</span><span class="PUNC">:</span><span class="NAME">a0</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">ry</span><span class="PUNC">:</span><span class="NAME">a0</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">,</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">E.type</span><span class="PUNC">=</span><span class="STRN">"rect"</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E.attrs</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ai</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"ellipse"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.canvas</span><span class="PUNC">&&</span><span class="NAME">e.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.attrs</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">cx</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">cy</span><span class="PUNC">:</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">rx</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">ry</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">,</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">i.type</span><span class="PUNC">=</span><span class="STRN">"ellipse"</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">i.attrs</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">o</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"image"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">preserveAspectRatio</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R.setAttributeNS</span><span class="PUNC">(</span><span class="NAME">i.xlink</span><span class="PUNC">,</span><span class="STRN">"href"</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.canvas</span><span class="PUNC">&&</span><span class="NAME">i.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.attrs</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">src</span><span class="PUNC">:</span><span class="NAME">a0</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">E.type</span><span class="PUNC">=</span><span class="STRN">"image"</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">X</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"text"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">,</span><span class="STRN">"text-anchor"</span><span class="PUNC">:</span><span class="STRN">"middle"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.canvas</span><span class="PUNC">&&</span><span class="NAME">e.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.attrs</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">,</span><span class="STRN">"text-anchor"</span><span class="PUNC">:</span><span class="STRN">"middle"</span><span class="PUNC">,</span><span class="NAME">text</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">font</span><span class="PUNC">:</span><span class="NAME">j.font</span><span class="PUNC">,</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">,</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">i.type</span><span class="PUNC">=</span><span class="STRN">"text"</span><span class="PUNC">;</span><span class="NAME">aa</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">i.attrs</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">aV</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.width</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">||</span><span class="NAME">this.width</span><span class="PUNC">;</span><span class="NAME">this.height</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">||</span><span class="NAME">this.height</span><span class="PUNC">;</span><span class="NAME">this.canvas</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"width"</span><span class="PUNC">,</span><span class="NAME">this.width</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.canvas</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"height"</span><span class="PUNC">,</span><span class="NAME">this.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">w</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">ao</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">arguments</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">&&</span><span class="NAME">E.container</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">E.x</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">E.y</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">E.width</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">E.height</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">throw</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Error</span><span class="PUNC">(</span><span class="STRN">"SVG container not found."</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"svg"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">||</span><span class="NUMB">512</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">||</span><span class="NUMB">342</span><span class="PUNC">;</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">xmlns</span><span class="PUNC">:</span><span class="STRN">"http://www.w3.org/2000/svg"</span><span class="PUNC">,</span><span class="NAME">version</span><span class="PUNC">:</span><span class="NUMB">1.1</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">==</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">S.style.cssText</span><span class="PUNC">=</span><span class="STRN">"position:absolute;left:"</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">+</span><span class="STRN">"px;top:"</span><span class="PUNC">+</span><span class="NAME">a0</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">L.body</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">i.firstChild</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">i.insertBefore</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">i.firstChild</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">i</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">aT</span><span class="PUNC">;</span><span class="NAME">i.width</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">;</span><span class="NAME">i.height</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">i.canvas</span><span class="PUNC">=</span><span class="NAME">S</span><span class="PUNC">;</span><span class="NAME">aG.call</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">an.fn</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.clear</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">clear</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">this.canvas</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">d.firstChild</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d.removeChild</span><span class="PUNC">(</span><span class="NAME">d.firstChild</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">this.bottom</span><span class="PUNC">=</span><span class="NAME">this.top</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">this.desc</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"desc"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">L.createTextNode</span><span class="PUNC">(</span><span class="STRN">"Created with Rapha\xebl"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">this.desc</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">this.defs</span><span class="PUNC">=</span><span class="NAME">aJ</span><span class="PUNC">(</span><span class="STRN">"defs"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">remove</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.canvas.parentNode</span><span class="PUNC">&&</span><span class="NAME">this.canvas.parentNode.removeChild</span><span class="PUNC">(</span><span class="NAME">this.canvas</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">s</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.vml</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">aH</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a5</span><span class="PUNC">=</span><span class="REGX">/[ahqstv]/ig</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">r</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">match</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">H</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="REGX">/[clmz]/g</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">==</span><span class="NAME">r</span><span class="PUNC">&&</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">match</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">M</span><span class="PUNC">:</span><span class="STRN">"m"</span><span class="PUNC">,</span><span class="NAME">L</span><span class="PUNC">:</span><span class="STRN">"l"</span><span class="PUNC">,</span><span class="NAME">C</span><span class="PUNC">:</span><span class="STRN">"c"</span><span class="PUNC">,</span><span class="NAME">Z</span><span class="PUNC">:</span><span class="STRN">"x"</span><span class="PUNC">,</span><span class="NAME">m</span><span class="PUNC">:</span><span class="STRN">"t"</span><span class="PUNC">,</span><span class="NAME">l</span><span class="PUNC">:</span><span class="STRN">"r"</span><span class="PUNC">,</span><span class="NAME">c</span><span class="PUNC">:</span><span class="STRN">"v"</span><span class="PUNC">,</span><span class="NAME">z</span><span class="PUNC">:</span><span class="STRN">"x"</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="REGX">/([clmz]),?([^clmz]*)/gi</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="REGX">/-?[^,\s-]+/g</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a4</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">ba</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a4</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">&lt;</span><span class="NAME">a7</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">aZ.call</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">==</span><span class="STRN">"z"</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">=</span><span class="STRN">"x"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">&lt;</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">!=</span><span class="NAME">a3</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">?</span><span class="STRN">","</span><span class="PUNC">:</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="STRN">"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "</span><span class="PUNC">+</span><span class="NAME">this.version</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">q</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"group"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.style.cssText</span><span class="PUNC">=</span><span class="STRN">"position:absolute;left:0;top:0;width:"</span><span class="PUNC">+</span><span class="NAME">S.width</span><span class="PUNC">+</span><span class="STRN">"px;height:"</span><span class="PUNC">+</span><span class="NAME">S.height</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">E.coordsize</span><span class="PUNC">=</span><span class="NAME">S.coordsize</span><span class="PUNC">;</span><span class="NAME">E.coordorigin</span><span class="PUNC">=</span><span class="NAME">S.coordorigin</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"shape"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">i.style</span><span class="PUNC">;</span><span class="NAME">e.width</span><span class="PUNC">=</span><span class="NAME">S.width</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">e.height</span><span class="PUNC">=</span><span class="NAME">S.height</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">i.coordsize</span><span class="PUNC">=</span><span class="NAME">this.coordsize</span><span class="PUNC">;</span><span class="NAME">i.coordorigin</span><span class="PUNC">=</span><span class="NAME">this.coordorigin</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R.isAbsolute</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">;</span><span class="NAME">R.type</span><span class="PUNC">=</span><span class="STRN">"path"</span><span class="PUNC">;</span><span class="NAME">R.path</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">R.Path</span><span class="PUNC">=</span><span class="NAME">at</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">&&</span><span class="NAME">aa</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">,</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">,</span><span class="NAME">path</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">aa</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a3.attrs</span><span class="PUNC">=</span><span class="NAME">a3.attrs</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">a3.node</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">a3.attrs</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a6.style</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">bd</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">a8.href</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a6.href</span><span class="PUNC">=</span><span class="NAME">a8.href</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a8.title</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a6.title</span><span class="PUNC">=</span><span class="NAME">a8.title</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a8.target</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a6.target</span><span class="PUNC">=</span><span class="NAME">a8.target</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a8.cursor</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.cursor</span><span class="PUNC">=</span><span class="NAME">a8.cursor</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a8.path</span><span class="PUNC">&&</span><span class="NAME">a3.type</span><span class="PUNC">==</span><span class="STRN">"path"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a9.path</span><span class="PUNC">=</span><span class="NAME">a8.path</span><span class="PUNC">;</span><span class="NAME">a6.path</span><span class="PUNC">=</span><span class="NAME">aH</span><span class="PUNC">(</span><span class="NAME">a9.path</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a8.rotation</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a3.rotate</span><span class="PUNC">(</span><span class="NAME">a8.rotation</span><span class="PUNC">,</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a8.translation</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a8.translation</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">t.call</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a3._.rt.cx</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a3._.rt.cx</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a3._.rt.cy</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a3.setBox</span><span class="PUNC">(</span><span class="NAME">a3.attrs</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a8.scale</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a8.scale</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a3.scale</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="STRN">"clip-rect"</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"clip-rect"</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">4</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a6.clipRect</span><span class="PUNC">||</span><span class="NAME">L.createElement</span><span class="PUNC">(</span><span class="STRN">"div"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">=</span><span class="NAME">a2.style</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">a6.parentNode</span><span class="PUNC">;</span><span class="NAME">bc.clip</span><span class="PUNC">=</span><span class="NAME">an.format</span><span class="PUNC">(</span><span class="STRN">"rect({1}px {2}px {3}px {0}px)"</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">a6.clipRect</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bc.position</span><span class="PUNC">=</span><span class="STRN">"absolute"</span><span class="PUNC">;</span><span class="NAME">bc.top</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">bc.left</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">bc.width</span><span class="PUNC">=</span><span class="NAME">a3.paper.width</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">bc.height</span><span class="PUNC">=</span><span class="NAME">a3.paper.height</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">S.parentNode.insertBefore</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6.clipRect</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"clip-rect"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a6.clipRect</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a6.clipRect.style.clip</span><span class="PUNC">=</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a3.type</span><span class="PUNC">==</span><span class="STRN">"image"</span><span class="PUNC">&&</span><span class="NAME">a8.src</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a6.src</span><span class="PUNC">=</span><span class="NAME">a8.src</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a3.type</span><span class="PUNC">==</span><span class="STRN">"image"</span><span class="PUNC">&&</span><span class="NAME">a8.opacity</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a6.filterOpacity</span><span class="PUNC">=</span><span class="STRN">" progid:DXImageTransform.Microsoft.Alpha(opacity="</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a8.opacity</span><span class="PUNC">*</span><span class="NUMB">100</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">")"</span><span class="PUNC">;</span><span class="NAME">a0.filter</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a6.filterMatrix</span><span class="PUNC">||</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a6.filterOpacity</span><span class="PUNC">||</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a8.font</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.font</span><span class="PUNC">=</span><span class="NAME">a8.font</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"font-family"</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.fontFamily</span><span class="PUNC">=</span><span class="STRN">'"'</span><span class="PUNC">+</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"font-family"</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">","</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/^['"]+|['"]+$/g</span><span class="PUNC">,</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">'"'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"font-size"</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.fontSize</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"font-size"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"font-weight"</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.fontWeight</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"font-weight"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"font-style"</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.fontStyle</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"font-style"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a8.opacity</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-width"</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8.fill</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8.stroke</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-width"</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-opacity"</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"fill-opacity"</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-dasharray"</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-miterlimit"</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-linejoin"</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-linecap"</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">a3.shape</span><span class="PUNC">||</span><span class="NAME">a6</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a7</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a6.getElementsByTagName</span><span class="PUNC">(</span><span class="STRN">"fill"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">a6.getElementsByTagName</span><span class="PUNC">(</span><span class="STRN">"fill"</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="KEYW">false</span><span class="PUNC">;</span><span class="PUNC">!</span><span class="NAME">a7</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"fill"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="STRN">"fill-opacity"</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">a8</span><span class="PUNC">||</span><span class="STRN">"opacity"</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"fill-opacity"</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">||</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">a9.opacity</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">||</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">&lt;</span><span class="NUMB">0</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a7.opacity</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a8.fill</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a7.on</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7.on</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8.fill</span><span class="PUNC">==</span><span class="STRN">"none"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a7.on</span><span class="PUNC">=</span><span class="KEYW">false</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7.on</span><span class="PUNC">&&</span><span class="NAME">a8.fill</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">a8.fill.match</span><span class="PUNC">(</span><span class="NAME">c</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a7.src</span><span class="PUNC">=</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a7.type</span><span class="PUNC">=</span><span class="STRN">"tile"</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">a7.color</span><span class="PUNC">=</span><span class="NAME">an.getRGB</span><span class="PUNC">(</span><span class="NAME">a8.fill</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">hex</span><span class="PUNC">;</span><span class="NAME">a7.src</span><span class="PUNC">=</span><span class="NAME">at</span><span class="PUNC">;</span><span class="NAME">a7.type</span><span class="PUNC">=</span><span class="STRN">"solid"</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.getRGB</span><span class="PUNC">(</span><span class="NAME">a8.fill</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">error</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">bd.type</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">circle</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">ellipse</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">||</span><span class="PUNC">(</span><span class="NAME">a8.fill</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">charAt</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">!=</span><span class="STRN">"r"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">b</span><span class="PUNC">(</span><span class="NAME">bd</span><span class="PUNC">,</span><span class="NAME">a8.fill</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a9.fill</span><span class="PUNC">=</span><span class="STRN">"none"</span><span class="PUNC">;</span><span class="NAME">a9.gradient</span><span class="PUNC">=</span><span class="NAME">a8.fill</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">ba</span><span class="PUNC">&&</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a6.getElementsByTagName</span><span class="PUNC">(</span><span class="STRN">"stroke"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">a6.getElementsByTagName</span><span class="PUNC">(</span><span class="STRN">"stroke"</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bb</span><span class="PUNC">=</span><span class="KEYW">false</span><span class="PUNC">;</span><span class="PUNC">!</span><span class="NAME">R</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"stroke"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">a8.stroke</span><span class="PUNC">&&</span><span class="NAME">a8.stroke</span><span class="PUNC">!=</span><span class="STRN">"none"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-width"</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-opacity"</span><span class="PUNC">]</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-dasharray"</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-miterlimit"</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-linejoin"</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-linecap"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R.on</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">(</span><span class="NAME">a8.stroke</span><span class="PUNC">==</span><span class="STRN">"none"</span><span class="PUNC">||</span><span class="NAME">R.on</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">||</span><span class="NAME">a8.stroke</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">||</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-width"</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.on</span><span class="PUNC">=</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R.on</span><span class="PUNC">&&</span><span class="NAME">a8.stroke</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.color</span><span class="PUNC">=</span><span class="NAME">an.getRGB</span><span class="PUNC">(</span><span class="NAME">a8.stroke</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">hex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"stroke-opacity"</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">||</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">a9.opacity</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">||</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-width"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">0.75</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">&lt;</span><span class="NUMB">0</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-width"</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"stroke-width"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-width"</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.weight</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a4</span><span class="PUNC">&&</span><span class="NAME">a4</span><span class="PUNC">&lt;</span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.weight</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R.opacity</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-linejoin"</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.joinstyle</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-linejoin"</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="STRN">"miter"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R.miterlimit</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-miterlimit"</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">8</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-linecap"</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.endcap</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-linecap"</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"butt"</span><span class="PUNC">?</span><span class="STRN">"flat"</span><span class="PUNC">:</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-linecap"</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"square"</span><span class="PUNC">?</span><span class="STRN">"square"</span><span class="PUNC">:</span><span class="STRN">"round"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-dasharray"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a5</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="STRN">"-"</span><span class="PUNC">:</span><span class="STRN">"shortdash"</span><span class="PUNC">,</span><span class="STRN">"."</span><span class="PUNC">:</span><span class="STRN">"shortdot"</span><span class="PUNC">,</span><span class="STRN">"-."</span><span class="PUNC">:</span><span class="STRN">"shortdashdot"</span><span class="PUNC">,</span><span class="STRN">"-.."</span><span class="PUNC">:</span><span class="STRN">"shortdashdotdot"</span><span class="PUNC">,</span><span class="STRN">". "</span><span class="PUNC">:</span><span class="STRN">"dot"</span><span class="PUNC">,</span><span class="STRN">"- "</span><span class="PUNC">:</span><span class="STRN">"dash"</span><span class="PUNC">,</span><span class="STRN">"--"</span><span class="PUNC">:</span><span class="STRN">"longdash"</span><span class="PUNC">,</span><span class="STRN">"- ."</span><span class="PUNC">:</span><span class="STRN">"dashdot"</span><span class="PUNC">,</span><span class="STRN">"--."</span><span class="PUNC">:</span><span class="STRN">"longdashdot"</span><span class="PUNC">,</span><span class="STRN">"--.."</span><span class="PUNC">:</span><span class="STRN">"longdashdotdot"</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">R.dashstyle</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-dasharray"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="STRN">"stroke-dasharray"</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">:</span><span class="NAME">at</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">bb</span><span class="PUNC">&&</span><span class="NAME">a6</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">bd.type</span><span class="PUNC">==</span><span class="STRN">"text"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">bd.paper.span.style</span><span class="PUNC">;</span><span class="NAME">a9.font</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.font</span><span class="PUNC">=</span><span class="NAME">a9.font</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"font-family"</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.fontFamily</span><span class="PUNC">=</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"font-family"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"font-size"</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.fontSize</span><span class="PUNC">=</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"font-size"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"font-weight"</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.fontWeight</span><span class="PUNC">=</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"font-weight"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"font-style"</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.fontStyle</span><span class="PUNC">=</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"font-style"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bd.node.string</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">bd.paper.span.innerHTML</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">bd.node.string</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/&lt;/g</span><span class="PUNC">,</span><span class="STRN">"&#60;"</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/&/g</span><span class="PUNC">,</span><span class="STRN">"&#38;"</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/\n/g</span><span class="PUNC">,</span><span class="STRN">"&lt;br>"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bd.W</span><span class="PUNC">=</span><span class="NAME">a9.w</span><span class="PUNC">=</span><span class="NAME">bd.paper.span.offsetWidth</span><span class="PUNC">;</span><span class="NAME">bd.H</span><span class="PUNC">=</span><span class="NAME">a9.h</span><span class="PUNC">=</span><span class="NAME">bd.paper.span.offsetHeight</span><span class="PUNC">;</span><span class="NAME">bd.X</span><span class="PUNC">=</span><span class="NAME">a9.x</span><span class="PUNC">;</span><span class="NAME">bd.Y</span><span class="PUNC">=</span><span class="NAME">a9.y</span><span class="PUNC">+</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">bd.H</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="STRN">"text-anchor"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"start"</span><span class="PUNC">:</span><span class="NAME">bd.node.style</span><span class="PUNC">[</span><span class="STRN">"v-text-align"</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="STRN">"left"</span><span class="PUNC">;</span><span class="NAME">bd.bbx</span><span class="PUNC">=</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">bd.W</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"end"</span><span class="PUNC">:</span><span class="NAME">bd.node.style</span><span class="PUNC">[</span><span class="STRN">"v-text-align"</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="STRN">"right"</span><span class="PUNC">;</span><span class="NAME">bd.bbx</span><span class="PUNC">=</span><span class="PUNC">-</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">bd.W</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">default</span><span class="PUNC">:</span><span class="NAME">bd.node.style</span><span class="PUNC">[</span><span class="STRN">"v-text-align"</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="STRN">"center"</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">b</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d.attrs</span><span class="PUNC">=</span><span class="NAME">d.attrs</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">d.attrs</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">d.node.getElementsByTagName</span><span class="PUNC">(</span><span class="STRN">"fill"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="STRN">"linear"</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="STRN">".5 .5"</span><span class="PUNC">;</span><span class="NAME">d.attrs.gradient</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">ar</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">S</span><span class="PUNC">=</span><span class="STRN">"radial"</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">&&</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">-</span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">-</span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">></span><span class="NUMB">0.25</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">ab.sqrt</span><span class="PUNC">(</span><span class="NUMB">0.25</span><span class="PUNC">-</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">a7</span><span class="PUNC">-</span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">></span><span class="NUMB">0.5</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">0.5</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">+</span><span class="NAME">am</span><span class="PUNC">+</span><span class="NAME">i</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">at</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/\s*\-\s*/</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">==</span><span class="STRN">"linear"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">a1.shift</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">-</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">isNaN</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">p</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">d.shape</span><span class="PUNC">||</span><span class="NAME">d.node</span><span class="PUNC">;</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"fill"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a4.on</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">;</span><span class="NAME">a4.method</span><span class="PUNC">=</span><span class="STRN">"none"</span><span class="PUNC">;</span><span class="NAME">a4.type</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">==</span><span class="STRN">"radial"</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="STRN">"gradientradial"</span><span class="PUNC">:</span><span class="STRN">"gradient"</span><span class="PUNC">;</span><span class="NAME">a4.color</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">color</span><span class="PUNC">;</span><span class="NAME">a4.color2</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">color</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a5</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">&lt;</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">offset</span><span class="PUNC">&&</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">offset</span><span class="PUNC">+</span><span class="NAME">am</span><span class="PUNC">+</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">color</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a4.colors</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a4.colors.value</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">?</span><span class="NAME">a5</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">","</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="STRN">"0% "</span><span class="PUNC">+</span><span class="NAME">a4.color</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">==</span><span class="STRN">"radial"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a4.focus</span><span class="PUNC">=</span><span class="STRN">"100%"</span><span class="PUNC">;</span><span class="NAME">a4.focussize</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">;</span><span class="NAME">a4.focusposition</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">a4.angle</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NUMB">270</span><span class="PUNC">-</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">%</span><span class="NUMB">360</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">;</span><span class="NAME">this.id</span><span class="PUNC">=</span><span class="NAME">an._oid</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="NAME">this.node</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">;</span><span class="NAME">R.raphael</span><span class="PUNC">=</span><span class="KEYW">this</span><span class="PUNC">;</span><span class="NAME">this.X</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">this.Y</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">this.attrs</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">this.Group</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">;</span><span class="NAME">this.paper</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">this._</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">tx</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">ty</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">rt</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">deg</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">sx</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">sy</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">!</span><span class="NAME">d.bottom</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d.bottom</span><span class="PUNC">=</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.prev</span><span class="PUNC">=</span><span class="NAME">d.top</span><span class="PUNC">;</span><span class="NAME">d.top</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d.top.next</span><span class="PUNC">=</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.top</span><span class="PUNC">=</span><span class="KEYW">this</span><span class="PUNC">;</span><span class="NAME">this.next</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">rotate</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this._.rt.cx</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">[</span><span class="NAME">this._.rt.deg</span><span class="PUNC">,</span><span class="NAME">this._.rt.cx</span><span class="PUNC">,</span><span class="NAME">this._.rt.cy</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._.rt.deg</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">!=</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this._.rt.deg</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">this._.rt.deg</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">i</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this._.rt.cx</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">this._.rt.cy</span><span class="PUNC">=</span><span class="NAME">i</span><span class="PUNC">;</span><span class="NAME">this.setBox</span><span class="PUNC">(</span><span class="NAME">this.attrs</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.Group.style.rotation</span><span class="PUNC">=</span><span class="NAME">this._.rt.deg</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">setBox</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">this.Group.style</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">this.shape</span><span class="PUNC">&&</span><span class="NAME">this.shape.style</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NAME">this.node.style</span><span class="PUNC">;</span><span class="NAME">bb</span><span class="PUNC">=</span><span class="NAME">bb</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a9</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.attrs</span><span class="PUNC">[</span><span class="NAME">a9</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">bb</span><span class="PUNC">[</span><span class="NAME">a9</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">||</span><span class="NAME">this._.rt.cx</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">||</span><span class="NAME">this._.rt.cy</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">this.attrs</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">;</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"circle"</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a7.cx</span><span class="PUNC">-</span><span class="NAME">a7.r</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a7.cy</span><span class="PUNC">-</span><span class="NAME">a7.r</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">a7.r</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"ellipse"</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a7.cx</span><span class="PUNC">-</span><span class="NAME">a7.rx</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a7.cy</span><span class="PUNC">-</span><span class="NAME">a7.ry</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a7.rx</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">a7.ry</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"rect"</span><span class="PUNC">:</span><span class="KEYW">case</span><span class="STRN">"image"</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a7.x</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a7.y</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a7.width</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">a7.height</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"text"</span><span class="PUNC">:</span><span class="NAME">this.textpath.v</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"m"</span><span class="PUNC">,</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">a7.x</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="STRN">", "</span><span class="PUNC">,</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">a7.y</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="STRN">"l"</span><span class="PUNC">,</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">a7.x</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="STRN">", "</span><span class="PUNC">,</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">a7.y</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a7.x</span><span class="PUNC">-</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">this.W</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a7.y</span><span class="PUNC">-</span><span class="NAME">this.H</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">this.W</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">this.H</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"path"</span><span class="PUNC">:</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">this.attrs.path</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">this.paper.width</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">this.paper.height</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">U</span><span class="PUNC">(</span><span class="NAME">this.attrs.path</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a8.x</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a8.y</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a8.width</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">a8.height</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">default</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">this.paper.width</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">this.paper.height</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="NAME">a1</span><span class="PUNC">+</span><span class="NAME">a2</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="NAME">a0</span><span class="PUNC">+</span><span class="NAME">ba</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">-</span><span class="NAME">this.paper.width</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">-</span><span class="NAME">this.paper.height</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">==</span><span class="STRN">"path"</span><span class="PUNC">||</span><span class="NAME">this.type</span><span class="PUNC">==</span><span class="STRN">"text"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">(</span><span class="NAME">a5.left</span><span class="PUNC">!=</span><span class="NAME">E</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a5.left</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">a5.top</span><span class="PUNC">!=</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a5.top</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.X</span><span class="PUNC">=</span><span class="NAME">this.type</span><span class="PUNC">==</span><span class="STRN">"text"</span><span class="PUNC">?</span><span class="NAME">a1</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NAME">E</span><span class="PUNC">;</span><span class="NAME">this.Y</span><span class="PUNC">=</span><span class="NAME">this.type</span><span class="PUNC">==</span><span class="STRN">"text"</span><span class="PUNC">?</span><span class="NAME">a0</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NAME">a4</span><span class="PUNC">;</span><span class="NAME">this.W</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">;</span><span class="NAME">this.H</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">R.left</span><span class="PUNC">!=</span><span class="PUNC">-</span><span class="NAME">E</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.left</span><span class="PUNC">=</span><span class="PUNC">-</span><span class="NAME">E</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">R.top</span><span class="PUNC">!=</span><span class="PUNC">-</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.top</span><span class="PUNC">=</span><span class="PUNC">-</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="PUNC">(</span><span class="NAME">a5.left</span><span class="PUNC">!=</span><span class="NAME">E</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a5.left</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">a5.top</span><span class="PUNC">!=</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a5.top</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.X</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="NAME">this.Y</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">;</span><span class="NAME">this.W</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">;</span><span class="NAME">this.H</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">a5.width</span><span class="PUNC">!=</span><span class="NAME">this.paper.width</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a5.width</span><span class="PUNC">=</span><span class="NAME">this.paper.width</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">a5.height</span><span class="PUNC">!=</span><span class="NAME">this.paper.height</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a5.height</span><span class="PUNC">=</span><span class="NAME">this.paper.height</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">R.left</span><span class="PUNC">!=</span><span class="NAME">a1</span><span class="PUNC">-</span><span class="NAME">E</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.left</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">-</span><span class="NAME">E</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">R.top</span><span class="PUNC">!=</span><span class="NAME">a0</span><span class="PUNC">-</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.top</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">-</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">R.width</span><span class="PUNC">!=</span><span class="NAME">a2</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.width</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">R.height</span><span class="PUNC">!=</span><span class="NAME">ba</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.height</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">bb.r</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">aI</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">==</span><span class="STRN">"rect"</span><span class="PUNC">&&</span><span class="NAME">this.arcsize.toFixed</span><span class="PUNC">(</span><span class="NUMB">4</span><span class="PUNC">)</span><span class="PUNC">!=</span><span class="NAME">S.toFixed</span><span class="PUNC">(</span><span class="NUMB">4</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">||</span><span class="NAME">this.arcsize</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"roundrect"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">this.events</span><span class="PUNC">&&</span><span class="NAME">this.events</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a6.arcsize</span><span class="PUNC">=</span><span class="NAME">S</span><span class="PUNC">;</span><span class="NAME">a6.raphael</span><span class="PUNC">=</span><span class="KEYW">this</span><span class="PUNC">;</span><span class="NAME">this.Group</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.Group.removeChild</span><span class="PUNC">(</span><span class="NAME">this.node</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">this.node</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">;</span><span class="NAME">this.arcsize</span><span class="PUNC">=</span><span class="NAME">S</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a9</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">a7</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bc</span><span class="PUNC">[</span><span class="NAME">a9</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">a9</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">bc.scale</span><span class="PUNC">;</span><span class="NAME">this.attr</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.events</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="PUNC">;</span><span class="NAME">a9</span><span class="PUNC">&lt;</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="NAME">a9</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.events</span><span class="PUNC">[</span><span class="NAME">a9</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">unbind</span><span class="PUNC">=</span><span class="NAME">ae</span><span class="PUNC">(</span><span class="NAME">this.node</span><span class="PUNC">,</span><span class="NAME">this.events</span><span class="PUNC">[</span><span class="NAME">a9</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">name</span><span class="PUNC">,</span><span class="NAME">this.events</span><span class="PUNC">[</span><span class="NAME">a9</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">f</span><span class="PUNC">,</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">hide</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">!</span><span class="NAME">this.removed</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">this.Group.style.display</span><span class="PUNC">=</span><span class="STRN">"none"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">show</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">!</span><span class="NAME">this.removed</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">this.Group.style.display</span><span class="PUNC">=</span><span class="STRN">"block"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getBBox</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">==</span><span class="STRN">"path"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">U</span><span class="PUNC">(</span><span class="NAME">this.attrs.path</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">this.X</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">this.bbx</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">this.Y</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">this.W</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">this.H</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">remove</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">ak</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">this.paper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.node.parentNode.removeChild</span><span class="PUNC">(</span><span class="NAME">this.node</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.Group.parentNode.removeChild</span><span class="PUNC">(</span><span class="NAME">this.Group</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.shape</span><span class="PUNC">&&</span><span class="NAME">this.shape.parentNode.removeChild</span><span class="PUNC">(</span><span class="NAME">this.shape</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">this.removed</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">attr</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">this.attrs</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.attrs</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">this.attrs</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">this._.rt.deg</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">E.rotation</span><span class="PUNC">=</span><span class="NAME">this.rotate</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">this._.sx</span><span class="PUNC">!=</span><span class="NUMB">1</span><span class="PUNC">||</span><span class="NAME">this._.sy</span><span class="PUNC">!=</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">E.scale</span><span class="PUNC">=</span><span class="NAME">this.scale</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.gradient</span><span class="PUNC">&&</span><span class="NAME">E.fill</span><span class="PUNC">==</span><span class="STRN">"none"</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">E.fill</span><span class="PUNC">=</span><span class="NAME">E.gradient</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">E.gradient</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"translation"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">t.call</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"rotation"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.rotate</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"scale"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.scale</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"fill"</span><span class="PUNC">&&</span><span class="NAME">this.attrs.fill</span><span class="PUNC">==</span><span class="STRN">"none"</span><span class="PUNC">&&</span><span class="NAME">this.attrs.gradient</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.attrs.gradient</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.attrs</span><span class="PUNC">[</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.attrs</span><span class="PUNC">&&</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">&lt;</span><span class="NAME">R</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">this.attrs</span><span class="PUNC">[</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">S</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S.text</span><span class="PUNC">&&</span><span class="NAME">this.type</span><span class="PUNC">==</span><span class="STRN">"text"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.node.string</span><span class="PUNC">=</span><span class="NAME">S.text</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">aa</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S.gradient</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">circle</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">ellipse</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="PUNC">(</span><span class="NAME">S.gradient</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">charAt</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">!=</span><span class="STRN">"r"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">b</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">S.gradient</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">!=</span><span class="STRN">"path"</span><span class="PUNC">||</span><span class="NAME">this._.rt.deg</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">this.setBox</span><span class="PUNC">(</span><span class="NAME">this.attrs</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">toFront</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">!</span><span class="NAME">this.removed</span><span class="PUNC">&&</span><span class="NAME">this.Group.parentNode</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">this.Group</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.paper.top</span><span class="PUNC">!=</span><span class="KEYW">this</span><span class="PUNC">&&</span><span class="NAME">Y</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">this.paper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">toBack</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.Group.parentNode.firstChild</span><span class="PUNC">!=</span><span class="NAME">this.Group</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.Group.parentNode.insertBefore</span><span class="PUNC">(</span><span class="NAME">this.Group</span><span class="PUNC">,</span><span class="NAME">this.Group.parentNode.firstChild</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">k</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">this.paper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">insertAfter</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d.Group.nextSibling</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d.Group.parentNode.insertBefore</span><span class="PUNC">(</span><span class="NAME">this.Group</span><span class="PUNC">,</span><span class="NAME">d.Group.nextSibling</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">d.Group.parentNode</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">this.Group</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">A</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">this.paper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">insertBefore</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.removed</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">d.Group.parentNode.insertBefore</span><span class="PUNC">(</span><span class="NAME">this.Group</span><span class="PUNC">,</span><span class="NAME">d.Group</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">aq</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">this.paper</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">P</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"group"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"oval"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">a0.style</span><span class="PUNC">;</span><span class="NAME">R.style.cssText</span><span class="PUNC">=</span><span class="STRN">"position:absolute;left:0;top:0;width:"</span><span class="PUNC">+</span><span class="NAME">e.width</span><span class="PUNC">+</span><span class="STRN">"px;height:"</span><span class="PUNC">+</span><span class="NAME">e.height</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">R.coordsize</span><span class="PUNC">=</span><span class="NAME">e.coordsize</span><span class="PUNC">;</span><span class="NAME">R.coordorigin</span><span class="PUNC">=</span><span class="NAME">e.coordorigin</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.type</span><span class="PUNC">=</span><span class="STRN">"circle"</span><span class="PUNC">;</span><span class="NAME">aa</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">,</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.attrs.cx</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">E.attrs.cy</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="NAME">E.attrs.r</span><span class="PUNC">=</span><span class="NAME">S</span><span class="PUNC">;</span><span class="NAME">E.setBox</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">-</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">-</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aF</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"group"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"roundrect"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="PUNC">(</span><span class="NAME">aI</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R.style.cssText</span><span class="PUNC">=</span><span class="STRN">"position:absolute;left:0;top:0;width:"</span><span class="PUNC">+</span><span class="NAME">e.width</span><span class="PUNC">+</span><span class="STRN">"px;height:"</span><span class="PUNC">+</span><span class="NAME">e.height</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">R.coordsize</span><span class="PUNC">=</span><span class="NAME">e.coordsize</span><span class="PUNC">;</span><span class="NAME">R.coordorigin</span><span class="PUNC">=</span><span class="NAME">e.coordorigin</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.arcsize</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S.type</span><span class="PUNC">=</span><span class="STRN">"rect"</span><span class="PUNC">;</span><span class="NAME">aa</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S.arcsize</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="NAME">S.setBox</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">r</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">ai</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"group"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"oval"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">E.style</span><span class="PUNC">;</span><span class="NAME">R.style.cssText</span><span class="PUNC">=</span><span class="STRN">"position:absolute;left:0;top:0;width:"</span><span class="PUNC">+</span><span class="NAME">d.width</span><span class="PUNC">+</span><span class="STRN">"px;height:"</span><span class="PUNC">+</span><span class="NAME">d.height</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">R.coordsize</span><span class="PUNC">=</span><span class="NAME">d.coordsize</span><span class="PUNC">;</span><span class="NAME">R.coordorigin</span><span class="PUNC">=</span><span class="NAME">d.coordorigin</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S.type</span><span class="PUNC">=</span><span class="STRN">"ellipse"</span><span class="PUNC">;</span><span class="NAME">aa</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S.attrs.cx</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">;</span><span class="NAME">S.attrs.cy</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="NAME">S.attrs.rx</span><span class="PUNC">=</span><span class="NAME">i</span><span class="PUNC">;</span><span class="NAME">S.attrs.ry</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="NAME">S.setBox</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">a2</span><span class="PUNC">-</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">-</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">i</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">o</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"group"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"image"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">i.style</span><span class="PUNC">;</span><span class="NAME">R.style.cssText</span><span class="PUNC">=</span><span class="STRN">"position:absolute;left:0;top:0;width:"</span><span class="PUNC">+</span><span class="NAME">e.width</span><span class="PUNC">+</span><span class="STRN">"px;height:"</span><span class="PUNC">+</span><span class="NAME">e.height</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">R.coordsize</span><span class="PUNC">=</span><span class="NAME">e.coordsize</span><span class="PUNC">;</span><span class="NAME">R.coordorigin</span><span class="PUNC">=</span><span class="NAME">e.coordorigin</span><span class="PUNC">;</span><span class="NAME">i.src</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S.type</span><span class="PUNC">=</span><span class="STRN">"image"</span><span class="PUNC">;</span><span class="NAME">S.attrs.src</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">S.attrs.x</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">;</span><span class="NAME">S.attrs.y</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="NAME">S.attrs.w</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="NAME">S.attrs.h</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">;</span><span class="NAME">S.setBox</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">E</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">X</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"group"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"shape"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">E.style</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"path"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">a4.style</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">ah</span><span class="PUNC">(</span><span class="STRN">"textpath"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R.style.cssText</span><span class="PUNC">=</span><span class="STRN">"position:absolute;left:0;top:0;width:"</span><span class="PUNC">+</span><span class="NAME">e.width</span><span class="PUNC">+</span><span class="STRN">"px;height:"</span><span class="PUNC">+</span><span class="NAME">e.height</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">R.coordsize</span><span class="PUNC">=</span><span class="NAME">e.coordsize</span><span class="PUNC">;</span><span class="NAME">R.coordorigin</span><span class="PUNC">=</span><span class="NAME">e.coordorigin</span><span class="PUNC">;</span><span class="NAME">a4.v</span><span class="PUNC">=</span><span class="NAME">an.format</span><span class="PUNC">(</span><span class="STRN">"m{0},{1}l{2},{1}"</span><span class="PUNC">,</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a4.textpathok</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">;</span><span class="NAME">a0.width</span><span class="PUNC">=</span><span class="NAME">e.width</span><span class="PUNC">;</span><span class="NAME">a0.height</span><span class="PUNC">=</span><span class="NAME">e.height</span><span class="PUNC">;</span><span class="NAME">i.string</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">;</span><span class="NAME">i.on</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S.shape</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">;</span><span class="NAME">S.textpath</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">;</span><span class="NAME">S.type</span><span class="PUNC">=</span><span class="STRN">"text"</span><span class="PUNC">;</span><span class="NAME">S.attrs.text</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="NAME">S.attrs.x</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">;</span><span class="NAME">S.attrs.y</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="NAME">S.attrs.w</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="NAME">S.attrs.h</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="NAME">aa</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">font</span><span class="PUNC">:</span><span class="NAME">j.font</span><span class="PUNC">,</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">,</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">S.setBox</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aV</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">this.canvas.style</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">==</span><span class="PUNC">+</span><span class="NAME">i</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">==</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e.width</span><span class="PUNC">=</span><span class="NAME">i</span><span class="PUNC">;</span><span class="NAME">e.height</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">e.clip</span><span class="PUNC">=</span><span class="STRN">"rect(0 "</span><span class="PUNC">+</span><span class="NAME">i</span><span class="PUNC">+</span><span class="STRN">" "</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">+</span><span class="STRN">" 0)"</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">ah</span><span class="PUNC">;</span><span class="NAME">L.createStyleSheet</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">addRule</span><span class="PUNC">(</span><span class="STRN">".rvml"</span><span class="PUNC">,</span><span class="STRN">"behavior:url(#default#VML)"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">try</span><span class="PUNC">{</span><span class="PUNC">!</span><span class="NAME">L.namespaces.rvml</span><span class="PUNC">&&</span><span class="NAME">L.namespaces.add</span><span class="PUNC">(</span><span class="STRN">"rvml"</span><span class="PUNC">,</span><span class="STRN">"urn:schemas-microsoft-com:vml"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">ah</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">L.createElement</span><span class="PUNC">(</span><span class="STRN">"&lt;rvml:"</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">+</span><span class="STRN">' class="rvml">'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">af</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">ah</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">L.createElement</span><span class="PUNC">(</span><span class="STRN">"&lt;"</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">+</span><span class="STRN">' xmlns="urn:schemas-microsoft.com:vml" class="rvml">'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">w</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">ao</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="NAME">arguments</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">i.container</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">i.height</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">i.width</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">i.x</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">i.y</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">throw</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Error</span><span class="PUNC">(</span><span class="STRN">"VML container not found."</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">aT</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">R.canvas</span><span class="PUNC">=</span><span class="NAME">L.createElement</span><span class="PUNC">(</span><span class="STRN">"div"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">S.style</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">||</span><span class="NUMB">512</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">||</span><span class="NUMB">342</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">==</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">==</span><span class="PUNC">+</span><span class="NAME">a2</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="STRN">"px"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R.width</span><span class="PUNC">=</span><span class="NUMB">1000</span><span class="PUNC">;</span><span class="NAME">R.height</span><span class="PUNC">=</span><span class="NUMB">1000</span><span class="PUNC">;</span><span class="NAME">R.coordsize</span><span class="PUNC">=</span><span class="STRN">"1000 1000"</span><span class="PUNC">;</span><span class="NAME">R.coordorigin</span><span class="PUNC">=</span><span class="STRN">"0 0"</span><span class="PUNC">;</span><span class="NAME">R.span</span><span class="PUNC">=</span><span class="NAME">L.createElement</span><span class="PUNC">(</span><span class="STRN">"span"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R.span.style.cssText</span><span class="PUNC">=</span><span class="STRN">"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;"</span><span class="PUNC">;</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R.span</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.cssText</span><span class="PUNC">=</span><span class="NAME">an.format</span><span class="PUNC">(</span><span class="STRN">"width:{0};height:{1};position:absolute;clip:rect(0 {0} {1} 0);overflow:hidden"</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">==</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">L.body</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.left</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="NAME">E.top</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">+</span><span class="STRN">"px"</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">d.style.width</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="NAME">d.style.height</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d.firstChild</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d.insertBefore</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">d.firstChild</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">aG.call</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">an.fn</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">clear</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.canvas.innerHTML</span><span class="PUNC">=</span><span class="NAME">at</span><span class="PUNC">;</span><span class="NAME">this.span</span><span class="PUNC">=</span><span class="NAME">L.createElement</span><span class="PUNC">(</span><span class="STRN">"span"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.span.style.cssText</span><span class="PUNC">=</span><span class="STRN">"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;"</span><span class="PUNC">;</span><span class="NAME">this.canvas</span><span class="PUNC">[</span><span class="NAME">aL</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">this.span</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.bottom</span><span class="PUNC">=</span><span class="NAME">this.top</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">remove</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.canvas.parentNode.removeChild</span><span class="PUNC">(</span><span class="NAME">this.canvas</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">s</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="REGX">/^Apple|^Google/</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">test</span><span class="PUNC">(</span><span class="NAME">navigator.vendor</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">navigator.userAgent.indexOf</span><span class="PUNC">(</span><span class="STRN">"Version/4.0"</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">safari</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">this.rect</span><span class="PUNC">(</span><span class="PUNC">-</span><span class="NUMB">99</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NUMB">99</span><span class="PUNC">,</span><span class="NAME">this.width</span><span class="PUNC">+</span><span class="NUMB">99</span><span class="PUNC">,</span><span class="NAME">this.height</span><span class="PUNC">+</span><span class="NUMB">99</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">setTimeout</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d.remove</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">safari</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ae</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">L.addEventListener</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">e.call</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">R.addEventListener</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R.removeEventListener</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">L.attachEvent</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">i.call</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">||</span><span class="NAME">au.event</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">S.attachEvent</span><span class="PUNC">(</span><span class="STRN">"on"</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">S.detachEvent</span><span class="PUNC">(</span><span class="STRN">"on"</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ac</span><span class="PUNC">=</span><span class="NAME">F</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">ac</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="STRN">"function"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.events</span><span class="PUNC">=</span><span class="NAME">this.events</span><span class="PUNC">||</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">this.events.push</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">name</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">f</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">unbind</span><span class="PUNC">:</span><span class="NAME">ae</span><span class="PUNC">(</span><span class="NAME">this.shape</span><span class="PUNC">||</span><span class="NAME">this.node</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="STRN">"un"</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">this.events</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">--</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">name</span><span class="PUNC">==</span><span class="NAME">d</span><span class="PUNC">&&</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">f</span><span class="PUNC">==</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">unbind</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">i.splice</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">!</span><span class="NAME">i.length</span><span class="PUNC">&&</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">this.events</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">(</span><span class="NAME">F</span><span class="PUNC">[</span><span class="NAME">ac</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">hover</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.mouseover</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">mouseout</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">unhover</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.unmouseover</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">unmouseout</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">circle</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">P</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">rect</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">aF</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">ellipse</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">ai</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">path</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">&&</span><span class="PUNC">!</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">!</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">q</span><span class="PUNC">(</span><span class="NAME">an.format</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">an</span><span class="PUNC">,</span><span class="NAME">arguments</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="KEYW">this</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">image</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">o</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">||</span><span class="STRN">"about:blank"</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">text</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">X</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">||</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">set</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">></span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">Array</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">splice.call</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">T</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">setSize</span><span class="PUNC">=</span><span class="NAME">aV</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">top</span><span class="PUNC">=</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">bottom</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">raphael</span><span class="PUNC">=</span><span class="NAME">an</span><span class="PUNC">;</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">u</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.x</span><span class="PUNC">+</span><span class="NAME">am</span><span class="PUNC">+</span><span class="NAME">this.y</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">scale</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">&&</span><span class="NAME">a5</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">this._.sx</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">this._.sy</span><span class="PUNC">,</span><span class="NAME">toString</span><span class="PUNC">:</span><span class="NAME">u</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">||</span><span class="NAME">a6</span><span class="PUNC">;</span><span class="PUNC">!</span><span class="PUNC">+</span><span class="NAME">a5</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">,</span><span class="NAME">bm</span><span class="PUNC">=</span><span class="NAME">this.attrs</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">!=</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">this.getBBox</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a4.x</span><span class="PUNC">+</span><span class="NAME">a4.width</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">a4.y</span><span class="PUNC">+</span><span class="NAME">a4.height</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">bl</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">/</span><span class="NAME">this._.sx</span><span class="PUNC">,</span><span class="NAME">bk</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">/</span><span class="NAME">this._.sy</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">||</span><span class="NAME">E</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="NAME">E</span><span class="PUNC">:</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">||</span><span class="NAME">e</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="NAME">e</span><span class="PUNC">:</span><span class="NAME">R</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">=</span><span class="PUNC">~</span><span class="PUNC">~</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">/</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">~</span><span class="PUNC">~</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">/</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">be</span><span class="PUNC">=</span><span class="NAME">this.node.style</span><span class="PUNC">,</span><span class="NAME">bo</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">-</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">bl</span><span class="PUNC">,</span><span class="NAME">bn</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">-</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">bk</span><span class="PUNC">;</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"rect"</span><span class="PUNC">:</span><span class="KEYW">case</span><span class="STRN">"image"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NAME">bm.width</span><span class="PUNC">*</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NAME">bl</span><span class="PUNC">,</span><span class="NAME">bd</span><span class="PUNC">=</span><span class="NAME">bm.height</span><span class="PUNC">*</span><span class="NAME">a0</span><span class="PUNC">*</span><span class="NAME">bk</span><span class="PUNC">;</span><span class="NAME">this.attr</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">bd</span><span class="PUNC">,</span><span class="NAME">r</span><span class="PUNC">:</span><span class="NAME">bm.r</span><span class="PUNC">*</span><span class="NAME">aI</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NAME">bl</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">*</span><span class="NAME">bk</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">bo</span><span class="PUNC">-</span><span class="NAME">a2</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">bn</span><span class="PUNC">-</span><span class="NAME">bd</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"circle"</span><span class="PUNC">:</span><span class="KEYW">case</span><span class="STRN">"ellipse"</span><span class="PUNC">:</span><span class="NAME">this.attr</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">rx</span><span class="PUNC">:</span><span class="NAME">bm.rx</span><span class="PUNC">*</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NAME">bl</span><span class="PUNC">,</span><span class="NAME">ry</span><span class="PUNC">:</span><span class="NAME">bm.ry</span><span class="PUNC">*</span><span class="NAME">a0</span><span class="PUNC">*</span><span class="NAME">bk</span><span class="PUNC">,</span><span class="NAME">r</span><span class="PUNC">:</span><span class="NAME">bm.r</span><span class="PUNC">*</span><span class="NAME">aI</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NAME">bl</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">*</span><span class="NAME">bk</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">cx</span><span class="PUNC">:</span><span class="NAME">bo</span><span class="PUNC">,</span><span class="NAME">cy</span><span class="PUNC">:</span><span class="NAME">bn</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"path"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bg</span><span class="PUNC">=</span><span class="NAME">ad</span><span class="PUNC">(</span><span class="NAME">bm.path</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">bh</span><span class="PUNC">=</span><span class="KEYW">true</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bj</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">=</span><span class="NAME">bg</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bj</span><span class="PUNC">&lt;</span><span class="NAME">bc</span><span class="PUNC">;</span><span class="NAME">bj</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bf</span><span class="PUNC">=</span><span class="NAME">bg</span><span class="PUNC">[</span><span class="NAME">bj</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">bi</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">aN.call</span><span class="PUNC">(</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">==</span><span class="STRN">"M"</span><span class="PUNC">&&</span><span class="NAME">bh</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">continue</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">bh</span><span class="PUNC">=</span><span class="KEYW">false</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">==</span><span class="STRN">"A"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bg</span><span class="PUNC">[</span><span class="NAME">bj</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NAME">bl</span><span class="PUNC">;</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bg</span><span class="PUNC">[</span><span class="NAME">bj</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NAME">bk</span><span class="PUNC">;</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">*</span><span class="NAME">bl</span><span class="PUNC">;</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">*</span><span class="NAME">bk</span><span class="PUNC">;</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">+</span><span class="NAME">a0</span><span class="PUNC">?</span><span class="PUNC">!</span><span class="PUNC">!</span><span class="PUNC">+</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">:</span><span class="PUNC">!</span><span class="PUNC">+</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">==</span><span class="STRN">"H"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="NAME">bi</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">jj</span><span class="PUNC">=</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bi</span><span class="PUNC">&lt;</span><span class="NAME">jj</span><span class="PUNC">;</span><span class="NAME">bi</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bi</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NAME">bl</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">==</span><span class="STRN">"V"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="NAME">bi</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">jj</span><span class="PUNC">=</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bi</span><span class="PUNC">&lt;</span><span class="NAME">jj</span><span class="PUNC">;</span><span class="NAME">bi</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bi</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="NAME">bk</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="NAME">bi</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">jj</span><span class="PUNC">=</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bi</span><span class="PUNC">&lt;</span><span class="NAME">jj</span><span class="PUNC">;</span><span class="NAME">bi</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bi</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">bi</span><span class="PUNC">%</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="NAME">bl</span><span class="PUNC">:</span><span class="NAME">bk</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">U</span><span class="PUNC">(</span><span class="NAME">bg</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">bo</span><span class="PUNC">-</span><span class="NAME">d.x</span><span class="PUNC">-</span><span class="NAME">d.width</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">bn</span><span class="PUNC">-</span><span class="NAME">d.y</span><span class="PUNC">-</span><span class="NAME">d.height</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="NAME">bg</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">;</span><span class="NAME">bg</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">a8</span><span class="PUNC">;</span><span class="NAME">this.attr</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">path</span><span class="PUNC">:</span><span class="NAME">bg</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">text</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">image</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">}</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">!=</span><span class="NUMB">1</span><span class="PUNC">||</span><span class="NAME">a0</span><span class="PUNC">!=</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.transformations</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.transformations</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="STRN">"scale("</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="STRN">","</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="STRN">")"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.node</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"transform"</span><span class="PUNC">,</span><span class="NAME">this.transformations</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">==</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="PUNC">-</span><span class="NAME">bm.x</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">bm.x</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">==</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="PUNC">-</span><span class="NAME">bm.y</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">bd</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">bm.y</span><span class="PUNC">;</span><span class="NAME">this.attr</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">ba</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a8</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bm.fx</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="NAME">bm.fy</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">this.node.filterMatrix</span><span class="PUNC">=</span><span class="STRN">" progid:DXImageTransform.Microsoft.Matrix(M11="</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="STRN">", M12=0, M21=0, M22="</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="STRN">", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">be.filter</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">this.node.filterMatrix</span><span class="PUNC">||</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">this.node.filterOpacity</span><span class="PUNC">||</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.transformations</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.transformations</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">at</span><span class="PUNC">;</span><span class="NAME">this.node</span><span class="PUNC">[</span><span class="NAME">v</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">"transform"</span><span class="PUNC">,</span><span class="NAME">this.transformations</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">bm.fx</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">bm.fy</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">this.node.filterMatrix</span><span class="PUNC">=</span><span class="NAME">at</span><span class="PUNC">;</span><span class="NAME">be.filter</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">this.node.filterMatrix</span><span class="PUNC">||</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">this.node.filterOpacity</span><span class="PUNC">||</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">bm.scale</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this._.sx</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">;</span><span class="NAME">this._.sy</span><span class="PUNC">=</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">clone</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">this.attr</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">d.scale</span><span class="PUNC">;</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">d.translation</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.paper</span><span class="PUNC">[</span><span class="NAME">this.type</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">attr</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">aB</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">H</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="STRN">""</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">a9.length</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">&lt;</span><span class="NAME">a7</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="STRN">"M"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">n</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">+</span><span class="NAME">a1</span><span class="PUNC">></span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">&&</span><span class="PUNC">!</span><span class="NAME">a8.start</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">an.findDotsAtSegment</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">-</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"C"</span><span class="PUNC">,</span><span class="NAME">a6.start.x</span><span class="PUNC">,</span><span class="NAME">a6.start.y</span><span class="PUNC">,</span><span class="NAME">a6.m.x</span><span class="PUNC">,</span><span class="NAME">a6.m.y</span><span class="PUNC">,</span><span class="NAME">a6.x</span><span class="PUNC">,</span><span class="NAME">a6.y</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a8.start</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"M"</span><span class="PUNC">,</span><span class="NAME">a6.x</span><span class="PUNC">,</span><span class="NAME">a6.y</span><span class="PUNC">+</span><span class="STRN">"C"</span><span class="PUNC">,</span><span class="NAME">a6.n.x</span><span class="PUNC">,</span><span class="NAME">a6.n.y</span><span class="PUNC">,</span><span class="NAME">a6.end.x</span><span class="PUNC">,</span><span class="NAME">a6.end.y</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">continue</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">d</span><span class="PUNC">&&</span><span class="PUNC">!</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">an.findDotsAtSegment</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">-</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">a6.x</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a6.y</span><span class="PUNC">,</span><span class="NAME">alpha</span><span class="PUNC">:</span><span class="NAME">a6.alpha</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">a3</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">R</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a8.end</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">;</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">?</span><span class="NAME">a3</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">?</span><span class="NAME">a8</span><span class="PUNC">:</span><span class="NAME">an.findDotsAtSegment</span><span class="PUNC">(</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">4</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">5</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NUMB">6</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6.alpha</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">a6.x</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a6.y</span><span class="PUNC">,</span><span class="NAME">alpha</span><span class="PUNC">:</span><span class="NAME">a6.alpha</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a6</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">n</span><span class="PUNC">=</span><span class="NAME">aj</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">&lt;</span><span class="NUMB">1.01</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NUMB">0.01</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">M</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">ab.sqrt</span><span class="PUNC">(</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">R.x</span><span class="PUNC">-</span><span class="NAME">e.x</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">R.y</span><span class="PUNC">-</span><span class="NAME">e.y</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ap</span><span class="PUNC">=</span><span class="NAME">aB</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">C</span><span class="PUNC">=</span><span class="NAME">aB</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">J</span><span class="PUNC">=</span><span class="NAME">aB</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getTotalLength</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">!=</span><span class="STRN">"path"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">ap</span><span class="PUNC">(</span><span class="NAME">this.attrs.path</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getPointAtLength</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">!=</span><span class="STRN">"path"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">C</span><span class="PUNC">(</span><span class="NAME">this.attrs.path</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getSubpath</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">!=</span><span class="STRN">"path"</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">ab.abs</span><span class="PUNC">(</span><span class="NAME">this.getTotalLength</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">&lt;</span><span class="NUMB">0.000001</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">J</span><span class="PUNC">(</span><span class="NAME">this.attrs.path</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">end</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">J</span><span class="PUNC">(</span><span class="NAME">this.attrs.path</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">?</span><span class="NAME">J</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">end</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.easing_formulas</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">linear</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="STRN">"&lt;"</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="STRN">">"</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="STRN">"&lt;>"</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">&lt;</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">d</span><span class="PUNC">-</span><span class="PUNC">=</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="PUNC">(</span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">backIn</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NUMB">1.70158</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">*</span><span class="NAME">e</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">e</span><span class="PUNC">-</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">backOut</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NUMB">1.70158</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">*</span><span class="NAME">e</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">e</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">elastic</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">||</span><span class="NAME">i</span><span class="PUNC">==</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">0.3</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">/</span><span class="NUMB">4</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">aM</span><span class="PUNC">(</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NUMB">10</span><span class="PUNC">*</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NAME">ab.sin</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">-</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NUMB">2</span><span class="PUNC">*</span><span class="NAME">ab.PI</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">bounce</span><span class="PUNC">:</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">7.5625</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NUMB">2.75</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">&lt;</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">/</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">*</span><span class="NAME">E</span><span class="PUNC">*</span><span class="NAME">E</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">&lt;</span><span class="PUNC">(</span><span class="NUMB">2</span><span class="PUNC">/</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">-</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NUMB">1.5</span><span class="PUNC">/</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">*</span><span class="NAME">E</span><span class="PUNC">*</span><span class="NAME">E</span><span class="PUNC">+</span><span class="NUMB">0.75</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">&lt;</span><span class="PUNC">(</span><span class="NUMB">2.5</span><span class="PUNC">/</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">-</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NUMB">2.25</span><span class="PUNC">/</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">*</span><span class="NAME">E</span><span class="PUNC">*</span><span class="NAME">E</span><span class="PUNC">+</span><span class="NUMB">0.9375</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">-</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NUMB">2.625</span><span class="PUNC">/</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">*</span><span class="NAME">E</span><span class="PUNC">*</span><span class="NAME">E</span><span class="PUNC">+</span><span class="NUMB">0.984375</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">I</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">length</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">aR</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a2</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Date</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">be</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">I</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">be</span><span class="PUNC">!=</span><span class="STRN">"length"</span><span class="PUNC">&&</span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">be</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bj</span><span class="PUNC">=</span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">be</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">bj.stop</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">be</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="KEYW">continue</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">-</span><span class="NAME">bj.start</span><span class="PUNC">,</span><span class="NAME">bb</span><span class="PUNC">=</span><span class="NAME">bj.ms</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NAME">bj.easing</span><span class="PUNC">,</span><span class="NAME">bf</span><span class="PUNC">=</span><span class="NAME">bj.from</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">bj.diff</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">bj.to</span><span class="PUNC">,</span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NAME">bj.t</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">bj.prev</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">bj.el</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">bj.callback</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">&lt;</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">an.easing_formulas</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">]</span><span class="PUNC">?</span><span class="NAME">an.easing_formulas</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">/</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a0</span><span class="PUNC">/</span><span class="NAME">bb</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bc</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">bf</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">Z</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"along"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">bb</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">E.back</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">E.len</span><span class="PUNC">-</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bd</span><span class="PUNC">=</span><span class="NAME">C</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1.translate</span><span class="PUNC">(</span><span class="NAME">a7.sx</span><span class="PUNC">-</span><span class="NAME">a7.x</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a7.sy</span><span class="PUNC">-</span><span class="NAME">a7.y</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a7.x</span><span class="PUNC">=</span><span class="NAME">bd.x</span><span class="PUNC">;</span><span class="NAME">a7.y</span><span class="PUNC">=</span><span class="NAME">bd.y</span><span class="PUNC">;</span><span class="NAME">a1.translate</span><span class="PUNC">(</span><span class="NAME">bd.x</span><span class="PUNC">-</span><span class="NAME">a7.sx</span><span class="PUNC">,</span><span class="NAME">bd.y</span><span class="PUNC">-</span><span class="NAME">a7.sy</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.rot</span><span class="PUNC">&&</span><span class="NAME">a1.rotate</span><span class="PUNC">(</span><span class="NAME">a7.r</span><span class="PUNC">+</span><span class="NAME">bd.alpha</span><span class="PUNC">,</span><span class="NAME">bd.x</span><span class="PUNC">,</span><span class="NAME">bd.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"number"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">bb</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"colour"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">=</span><span class="STRN">"rgb("</span><span class="PUNC">+</span><span class="PUNC">[</span><span class="NAME">B</span><span class="PUNC">(</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">r</span><span class="PUNC">+</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">bb</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">r</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">B</span><span class="PUNC">(</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">g</span><span class="PUNC">+</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">bb</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">g</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">B</span><span class="PUNC">(</span><span class="NAME">O</span><span class="PUNC">(</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">b</span><span class="PUNC">+</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">bb</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">b</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="STRN">","</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">")"</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"path"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bh</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bh</span><span class="PUNC">&lt;</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="NAME">bh</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">bh</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bh</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bg</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">bi</span><span class="PUNC">=</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bh</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bg</span><span class="PUNC">&lt;</span><span class="NAME">bi</span><span class="PUNC">;</span><span class="NAME">bg</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">bh</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bg</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bh</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bg</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">bb</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bh</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bg</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">bh</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">bh</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"csv"</span><span class="PUNC">:</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"translation"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">-</span><span class="NAME">a9</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">*</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">-</span><span class="NAME">a9</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a6.x</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">;</span><span class="NAME">a6.y</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">+</span><span class="NAME">am</span><span class="PUNC">+</span><span class="NAME">a3</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"rotation"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">bb</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="STRN">","</span><span class="PUNC">+</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="STRN">","</span><span class="PUNC">+</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"scale"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">+</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">bb</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="PUNC">+</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">bb</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="PUNC">(</span><span class="NUMB">2</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">?</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">:</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="PUNC">(</span><span class="NUMB">3</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">?</span><span class="NAME">E</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">:</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">az</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">am</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"clip-rect"</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bh</span><span class="PUNC">=</span><span class="NUMB">4</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">bh</span><span class="PUNC">--</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">bh</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">bf</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bh</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">S</span><span class="PUNC">*</span><span class="NAME">bb</span><span class="PUNC">*</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bh</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a8</span><span class="PUNC">[</span><span class="NAME">bc</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">a1.attr</span><span class="PUNC">(</span><span class="NAME">a8</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1._run</span><span class="PUNC">&&</span><span class="NAME">a1._run.call</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">E.along</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bd</span><span class="PUNC">=</span><span class="NAME">C</span><span class="PUNC">(</span><span class="NAME">E.along</span><span class="PUNC">,</span><span class="NAME">E.len</span><span class="PUNC">*</span><span class="PUNC">!</span><span class="NAME">E.back</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1.translate</span><span class="PUNC">(</span><span class="NAME">a7.sx</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">a7.x</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">bd.x</span><span class="PUNC">-</span><span class="NAME">a7.sx</span><span class="PUNC">,</span><span class="NAME">a7.sy</span><span class="PUNC">-</span><span class="PUNC">(</span><span class="NAME">a7.y</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NAME">bd.y</span><span class="PUNC">-</span><span class="NAME">a7.sy</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.rot</span><span class="PUNC">&&</span><span class="NAME">a1.rotate</span><span class="PUNC">(</span><span class="NAME">a7.r</span><span class="PUNC">+</span><span class="NAME">bd.alpha</span><span class="PUNC">,</span><span class="NAME">bd.x</span><span class="PUNC">,</span><span class="NAME">bd.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">(</span><span class="NAME">a6.x</span><span class="PUNC">||</span><span class="NAME">a6.y</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">a1.translate</span><span class="PUNC">(</span><span class="PUNC">-</span><span class="NAME">a6.x</span><span class="PUNC">,</span><span class="PUNC">-</span><span class="NAME">a6.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E.scale</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">E.scale</span><span class="PUNC">=</span><span class="NAME">E.scale</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a1.attr</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">be</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="NAME">a1.in_animation</span><span class="PUNC">=</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="STRN">"function"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">R.call</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">bj.prev</span><span class="PUNC">=</span><span class="NAME">a0</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">an.svg</span><span class="PUNC">&&</span><span class="NAME">a1</span><span class="PUNC">&&</span><span class="NAME">a1.paper.safari</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="NAME">setTimeout</span><span class="PUNC">(</span><span class="NAME">aR</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">B</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">></span><span class="NUMB">255</span><span class="PUNC">?</span><span class="NUMB">255</span><span class="PUNC">:</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">&lt;</span><span class="NUMB">0</span><span class="PUNC">?</span><span class="NUMB">0</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">t</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">this._.tx</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">this._.ty</span><span class="PUNC">,</span><span class="NAME">toString</span><span class="PUNC">:</span><span class="NAME">u</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">this._.tx</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">this._.ty</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">i</span><span class="PUNC">;</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">this.type</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"circle"</span><span class="PUNC">:</span><span class="KEYW">case</span><span class="STRN">"ellipse"</span><span class="PUNC">:</span><span class="NAME">this.attr</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">cx</span><span class="PUNC">:</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NAME">this.attrs.cx</span><span class="PUNC">,</span><span class="NAME">cy</span><span class="PUNC">:</span><span class="PUNC">+</span><span class="NAME">i</span><span class="PUNC">+</span><span class="NAME">this.attrs.cy</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"rect"</span><span class="PUNC">:</span><span class="KEYW">case</span><span class="STRN">"image"</span><span class="PUNC">:</span><span class="KEYW">case</span><span class="STRN">"text"</span><span class="PUNC">:</span><span class="NAME">this.attr</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NAME">this.attrs.x</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">+</span><span class="NAME">i</span><span class="PUNC">+</span><span class="NAME">this.attrs.y</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"path"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">ad</span><span class="PUNC">(</span><span class="NAME">this.attrs.path</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">i</span><span class="PUNC">;</span><span class="NAME">this.attr</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">path</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">animateWith</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">e.id</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">i.start</span><span class="PUNC">=</span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">e.id</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">start</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.animate</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">animateAlong</span><span class="PUNC">=</span><span class="NAME">ay</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">animateAlongBack</span><span class="PUNC">=</span><span class="NAME">ay</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">ay</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">back</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="STRN">"function"</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="PUNC">(</span><span class="NAME">R.rot</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">&&</span><span class="NAME">E.constructor</span><span class="PUNC">==</span><span class="NAME">ax</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">E.attrs.path</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.along</span><span class="PUNC">=</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.animate</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">onAnimation</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this._run</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">animate</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">be</span><span class="PUNC">,</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">a4</span><span class="PUNC">,</span><span class="STRN">"function"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="PUNC">!</span><span class="NAME">a4</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">a4</span><span class="PUNC">||</span><span class="KEYW">null</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a9</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a6</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">be</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">be</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">Z</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">this.attr</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">j</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">be</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">Z</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"along"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bc</span><span class="PUNC">=</span><span class="NAME">ap</span><span class="PUNC">(</span><span class="NAME">be</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">C</span><span class="PUNC">(</span><span class="NAME">be</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">*</span><span class="PUNC">!</span><span class="PUNC">!</span><span class="NAME">be.back</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">this.getBBox</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">bc</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="NAME">a2.tx</span><span class="PUNC">=</span><span class="NAME">R.x</span><span class="PUNC">;</span><span class="NAME">a2.ty</span><span class="PUNC">=</span><span class="NAME">R.y</span><span class="PUNC">;</span><span class="NAME">a2.sx</span><span class="PUNC">=</span><span class="NAME">a7.x</span><span class="PUNC">;</span><span class="NAME">a2.sy</span><span class="PUNC">=</span><span class="NAME">a7.y</span><span class="PUNC">;</span><span class="NAME">e.rot</span><span class="PUNC">=</span><span class="NAME">be.rot</span><span class="PUNC">;</span><span class="NAME">e.back</span><span class="PUNC">=</span><span class="NAME">be.back</span><span class="PUNC">;</span><span class="NAME">e.len</span><span class="PUNC">=</span><span class="NAME">bc</span><span class="PUNC">;</span><span class="NAME">be.rot</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a2.r</span><span class="PUNC">=</span><span class="NAME">W</span><span class="PUNC">(</span><span class="NAME">this.rotate</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"number"</span><span class="PUNC">:</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"colour"</span><span class="PUNC">:</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">an.getRGB</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NAME">an.getRGB</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">r</span><span class="PUNC">:</span><span class="PUNC">(</span><span class="NAME">a8.r</span><span class="PUNC">-</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">r</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">g</span><span class="PUNC">:</span><span class="PUNC">(</span><span class="NAME">a8.g</span><span class="PUNC">-</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">g</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">:</span><span class="PUNC">(</span><span class="NAME">a8.b</span><span class="PUNC">-</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">b</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"path"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">H</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a3</span><span class="PUNC">=</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bb</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">bb</span><span class="PUNC">&lt;</span><span class="NAME">a1</span><span class="PUNC">;</span><span class="NAME">bb</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ba</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">bd</span><span class="PUNC">=</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">&lt;</span><span class="NAME">bd</span><span class="PUNC">;</span><span class="NAME">ba</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a3</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"csv"</span><span class="PUNC">:</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">be</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">switch</span><span class="PUNC">(</span><span class="NAME">a6</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">case</span><span class="STRN">"translation"</span><span class="PUNC">:</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"rotation"</span><span class="PUNC">:</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="NAME">a0</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">2</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"scale"</span><span class="PUNC">:</span><span class="NAME">be</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="KEYW">case</span><span class="STRN">"clip-rect"</span><span class="PUNC">:</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bb</span><span class="PUNC">=</span><span class="NUMB">4</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">--</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">a9</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">bb</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a5</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">this.stop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.in_animation</span><span class="PUNC">=</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">this.id</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">start</span><span class="PUNC">:</span><span class="NAME">be.start</span><span class="PUNC">||</span><span class="PUNC">+</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Date</span><span class="PUNC">,</span><span class="NAME">ms</span><span class="PUNC">:</span><span class="NAME">a5</span><span class="PUNC">,</span><span class="NAME">easing</span><span class="PUNC">:</span><span class="NAME">a4</span><span class="PUNC">,</span><span class="NAME">from</span><span class="PUNC">:</span><span class="NAME">a9</span><span class="PUNC">,</span><span class="NAME">diff</span><span class="PUNC">:</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">to</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">el</span><span class="PUNC">:</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">callback</span><span class="PUNC">:</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">t</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">++</span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="NAME">aR</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">stop</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">this.id</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">I</span><span class="PUNC">[</span><span class="NAME">this.id</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">translate</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.attr</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">translation</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">+</span><span class="STRN">" "</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aA</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="STRN">"Rapha\xebl\u2019s object"</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.ae</span><span class="PUNC">=</span><span class="NAME">I</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">T</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.items</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">&lt;</span><span class="NAME">E</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">constructor</span><span class="PUNC">==</span><span class="NAME">ax</span><span class="PUNC">||</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">constructor</span><span class="PUNC">==</span><span class="NAME">T</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">T</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">&lt;</span><span class="NAME">E</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R.constructor</span><span class="PUNC">==</span><span class="NAME">ax</span><span class="PUNC">||</span><span class="NAME">R.constructor</span><span class="PUNC">==</span><span class="NAME">T</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">;</span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">T</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">pop</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">[</span><span class="KEYW">this</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">--</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.items.pop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">y</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">T</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">y</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">&lt;</span><span class="NAME">E</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">e</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">arguments</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">(</span><span class="NAME">y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="NAME">T</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">attr</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"object"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">&lt;</span><span class="NAME">S</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">attr</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">&lt;</span><span class="NAME">R</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">attr</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">arguments</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">T</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">animate</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">(</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="STRN">"function"</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="PUNC">!</span><span class="NAME">a2</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">a2</span><span class="PUNC">||</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">!</span><span class="PUNC">--</span><span class="NAME">d</span><span class="PUNC">&&</span><span class="NAME">a1.call</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="PUNC">--</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">animate</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">||</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">--</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">animateWith</span><span class="PUNC">(</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">||</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">T</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">insertAfter</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">while</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">--</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">insertAfter</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">T</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getBBox</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">E</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">this.items</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getBBox</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">S.x</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">S.y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">S.x</span><span class="PUNC">+</span><span class="NAME">S.width</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">R</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">S.y</span><span class="PUNC">+</span><span class="NAME">S.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">aI</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">aI</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">:</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">width</span><span class="PUNC">:</span><span class="NAME">g</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">height</span><span class="PUNC">:</span><span class="NAME">g</span><span class="PUNC">[</span><span class="NAME">aW</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NAME">a0</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.registerFont</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">e.face</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">this.fonts</span><span class="PUNC">=</span><span class="NAME">this.fonts</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">w</span><span class="PUNC">:</span><span class="NAME">e.w</span><span class="PUNC">,</span><span class="NAME">face</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">glyphs</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">e.face</span><span class="PUNC">[</span><span class="STRN">"font-family"</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">e.face</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e.face</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">a0</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E.face</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">e.face</span><span class="PUNC">[</span><span class="NAME">a0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.fonts</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.fonts</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="NAME">this.fonts</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">e.svg</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E.face</span><span class="PUNC">[</span><span class="STRN">"units-per-em"</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">G</span><span class="PUNC">(</span><span class="NAME">e.face</span><span class="PUNC">[</span><span class="STRN">"units-per-em"</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NUMB">10</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">R</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">e.glyphs</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">e.glyphs</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">e.glyphs</span><span class="PUNC">[</span><span class="NAME">R</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">E.glyphs</span><span class="PUNC">[</span><span class="NAME">R</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="PUNC">{</span><span class="NAME">w</span><span class="PUNC">:</span><span class="NAME">S.w</span><span class="PUNC">,</span><span class="NAME">k</span><span class="PUNC">:</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">:</span><span class="NAME">S.d</span><span class="PUNC">&&</span><span class="STRN">"M"</span><span class="PUNC">+</span><span class="NAME">S.d</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/[mlcxtrv]/g</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="PUNC">{</span><span class="NAME">l</span><span class="PUNC">:</span><span class="STRN">"L"</span><span class="PUNC">,</span><span class="NAME">c</span><span class="PUNC">:</span><span class="STRN">"C"</span><span class="PUNC">,</span><span class="NAME">x</span><span class="PUNC">:</span><span class="STRN">"z"</span><span class="PUNC">,</span><span class="NAME">t</span><span class="PUNC">:</span><span class="STRN">"m"</span><span class="PUNC">,</span><span class="NAME">r</span><span class="PUNC">:</span><span class="STRN">"l"</span><span class="PUNC">,</span><span class="NAME">v</span><span class="PUNC">:</span><span class="STRN">"c"</span><span class="PUNC">}</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="STRN">"M"</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">"z"</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S.k</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">S.k</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">E.glyphs</span><span class="PUNC">[</span><span class="NAME">R</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">k</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">S.k</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getFont</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">,</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">R</span><span class="PUNC">=</span><span class="NAME">R</span><span class="PUNC">||</span><span class="STRN">"normal"</span><span class="PUNC">;</span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">e</span><span class="PUNC">||</span><span class="STRN">"normal"</span><span class="PUNC">;</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">a3</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="NAME">normal</span><span class="PUNC">:</span><span class="NUMB">400</span><span class="PUNC">,</span><span class="NAME">bold</span><span class="PUNC">:</span><span class="NUMB">700</span><span class="PUNC">,</span><span class="NAME">lighter</span><span class="PUNC">:</span><span class="NUMB">300</span><span class="PUNC">,</span><span class="NAME">bolder</span><span class="PUNC">:</span><span class="NUMB">800</span><span class="PUNC">}</span><span class="PUNC">[</span><span class="NAME">a3</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">400</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">an.fonts</span><span class="PUNC">[</span><span class="NAME">a2</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">E</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">RegExp</span><span class="PUNC">(</span><span class="STRN">"(^|\\s)"</span><span class="PUNC">+</span><span class="NAME">a2</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="REGX">/[^\w\d\s+!~.:_-]/g</span><span class="PUNC">,</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="STRN">"(\\s|$)"</span><span class="PUNC">,</span><span class="STRN">"i"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">an.fonts</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">an.fonts</span><span class="PUNC">[</span><span class="NAME">Q</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">E.test</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">an.fonts</span><span class="PUNC">[</span><span class="NAME">d</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">S</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">&lt;</span><span class="NAME">a4</span><span class="PUNC">;</span><span class="NAME">a1</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="NAME">S</span><span class="PUNC">[</span><span class="NAME">a1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a0.face</span><span class="PUNC">[</span><span class="STRN">"font-weight"</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NAME">a3</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a0.face</span><span class="PUNC">[</span><span class="STRN">"font-style"</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NAME">e</span><span class="PUNC">||</span><span class="PUNC">!</span><span class="NAME">a0.face</span><span class="PUNC">[</span><span class="STRN">"font-style"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">a0.face</span><span class="PUNC">[</span><span class="STRN">"font-stretch"</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="NAME">R</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">break</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a0</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">aT</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">print</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">,</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="NAME">a2</span><span class="PUNC">,</span><span class="NAME">bb</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bb</span><span class="PUNC">=</span><span class="NAME">bb</span><span class="PUNC">||</span><span class="STRN">"middle"</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a7</span><span class="PUNC">=</span><span class="NAME">this.set</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">ba</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">+</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NAME">z</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">at</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a8</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">a4</span><span class="PUNC">=</span><span class="NAME">at</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">;</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">,</span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">=</span><span class="NAME">this.getFont</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">a1</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">bc</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">a2</span><span class="PUNC">||</span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NAME">a1.face</span><span class="PUNC">[</span><span class="STRN">"units-per-em"</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">a1.face.bbox.split</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">=</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">bb</span><span class="PUNC">==</span><span class="STRN">"baseline"</span><span class="PUNC">?</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="PUNC">+</span><span class="NAME">a1.face.descent</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">3</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a6</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">S</span><span class="PUNC">=</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a6</span><span class="PUNC">&lt;</span><span class="NAME">S</span><span class="PUNC">;</span><span class="NAME">a6</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">a5</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">&&</span><span class="NAME">a1.glyphs</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="NAME">a9</span><span class="PUNC">=</span><span class="NAME">a1.glyphs</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="NAME">a8</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NAME">a6</span><span class="PUNC">?</span><span class="PUNC">(</span><span class="NAME">a5.w</span><span class="PUNC">||</span><span class="NAME">a1.w</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="PUNC">(</span><span class="NAME">a5.k</span><span class="PUNC">&&</span><span class="NAME">a5.k</span><span class="PUNC">[</span><span class="NAME">ba</span><span class="PUNC">[</span><span class="NAME">a6</span><span class="PUNC">]</span><span class="PUNC">]</span><span class="PUNC">||</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">a9</span><span class="PUNC">&&</span><span class="NAME">a9.d</span><span class="PUNC">&&</span><span class="NAME">a7</span><span class="PUNC">[</span><span class="NAME">f</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">this.path</span><span class="PUNC">(</span><span class="NAME">a9.d</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">attr</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="NAME">fill</span><span class="PUNC">:</span><span class="STRN">"#000"</span><span class="PUNC">,</span><span class="NAME">stroke</span><span class="PUNC">:</span><span class="STRN">"none"</span><span class="PUNC">,</span><span class="NAME">translation</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NAME">a8</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="NAME">a7.scale</span><span class="PUNC">(</span><span class="NAME">bc</span><span class="PUNC">,</span><span class="NAME">bc</span><span class="PUNC">,</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">translate</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">-</span><span class="NAME">a0</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">-</span><span class="NAME">a3</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a7</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.format</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="STRN">"array"</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NAME">aS</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">arguments</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">arguments</span><span class="PUNC">,</span><span class="NAME">d</span><span class="PUNC">=</span><span class="REGX">/\{(\d+)\}/g</span><span class="PUNC">;</span><span class="NAME">i</span><span class="PUNC">&&</span><span class="NAME">an.is</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">,</span><span class="STRN">"string"</span><span class="PUNC">)</span><span class="PUNC">&&</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">m</span><span class="PUNC">]</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">i</span><span class="PUNC">=</span><span class="NAME">i</span><span class="PUNC">[</span><span class="NAME">aP</span><span class="PUNC">]</span><span class="PUNC">(</span><span class="NAME">d</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">R</span><span class="PUNC">,</span><span class="NAME">E</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">[</span><span class="PUNC">++</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">?</span><span class="NAME">at</span><span class="PUNC">:</span><span class="NAME">e</span><span class="PUNC">[</span><span class="NAME">E</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">||</span><span class="NAME">at</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.ninja</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="NAME">Raphael</span><span class="PUNC">;</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">l.was</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">Raphael</span><span class="PUNC">=</span><span class="NAME">l.is</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">else</span><span class="PUNC">{</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">Raphael</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">an.el</span><span class="PUNC">=</span><span class="NAME">ax</span><span class="PUNC">[</span><span class="NAME">aY</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">an</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span></pre></body></html>