<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>madrona.common.utils</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="madrona-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="madrona-module.html">Package&nbsp;madrona</a> ::
        <a href="madrona.common-module.html">Package&nbsp;common</a> ::
        Module&nbsp;utils
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module utils</h1><p class="nomargin-top"><span class="codelink"><a href="madrona.common.utils-pysrc.html">source&nbsp;code</a></span></p>
<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="madrona.common.utils.KMZUtil-class.html" class="summary-name">KMZUtil</a><br />
      Recursively adds a directory to a zipfile modified from 
        http://stackoverflow.com/questions/458436/adding-folders-to-a-zip-file-using-python
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="get_logger"></a><span class="summary-sig-name">get_logger</span>(<span class="summary-sig-arg">caller_name</span>=<span class="summary-sig-default">None</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#get_logger">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="KmlWrap"></a><span class="summary-sig-name">KmlWrap</span>(<span class="summary-sig-arg">string</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#KmlWrap">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="LookAtKml"></a><span class="summary-sig-name">LookAtKml</span>(<span class="summary-sig-arg">geometry</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#LookAtKml">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="LargestPolyFromMulti"></a><span class="summary-sig-name">LargestPolyFromMulti</span>(<span class="summary-sig-arg">geom</span>)</span><br />
      takes a polygon or a multipolygon geometry and returns only the 
      largest polygon geometry</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#LargestPolyFromMulti">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="LargestLineFromMulti"></a><span class="summary-sig-name">LargestLineFromMulti</span>(<span class="summary-sig-arg">geom</span>)</span><br />
      takes a line or a multiline geometry and returns only the longest 
      line geometry</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#LargestLineFromMulti">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="angle"></a><span class="summary-sig-name">angle</span>(<span class="summary-sig-arg">pnt1</span>,
        <span class="summary-sig-arg">pnt2</span>,
        <span class="summary-sig-arg">pnt3</span>)</span><br />
      Return the angle in radians between line(pnt2,pnt1) and 
      line(pnt2,pnt3)</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#angle">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="angle_degrees"></a><span class="summary-sig-name">angle_degrees</span>(<span class="summary-sig-arg">pnt1</span>,
        <span class="summary-sig-arg">pnt2</span>,
        <span class="summary-sig-arg">pnt3</span>)</span><br />
      Return the angle in degrees between line(pnt2,pnt1) and 
      line(pnt2,pnt3)</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#angle_degrees">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.common.utils-module.html#spike_ring_indecies" class="summary-sig-name">spike_ring_indecies</a>(<span class="summary-sig-arg">line_ring</span>,
        <span class="summary-sig-arg">threshold</span>=<span class="summary-sig-default">0.01</span>)</span><br />
      Returns a list of point indexes if ring contains spikes (angles of 
      less than threshold degrees).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#spike_ring_indecies">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.common.utils-module.html#remove_spikes" class="summary-sig-name">remove_spikes</a>(<span class="summary-sig-arg">poly</span>,
        <span class="summary-sig-arg">threshold</span>=<span class="summary-sig-default">0.01</span>)</span><br />
      Looks for spikes (angles &lt; threshold degrees) in the polygons 
      exterior ring.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#remove_spikes">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="clean_geometry"></a><span class="summary-sig-name">clean_geometry</span>(<span class="summary-sig-arg">geom</span>)</span><br />
      Send a geometry to the cleanGeometry stored procedure and get the 
      cleaned geom back.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#clean_geometry">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="ensure_clean"></a><span class="summary-sig-name">ensure_clean</span>(<span class="summary-sig-arg">geo</span>,
        <span class="summary-sig-arg">srid</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#ensure_clean">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="ComputeLookAt"></a><span class="summary-sig-name">ComputeLookAt</span>(<span class="summary-sig-arg">geometry</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#ComputeLookAt">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="get_class"></a><span class="summary-sig-name">get_class</span>(<span class="summary-sig-arg">path</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#get_class">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="kml_errors"></a><span class="summary-sig-name">kml_errors</span>(<span class="summary-sig-arg">kmlstring</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#kml_errors">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="hex8_to_rgba"></a><span class="summary-sig-name">hex8_to_rgba</span>(<span class="summary-sig-arg">hex8</span>)</span><br />
      Takes an 8 digit hex color string (used by Google Earth) and converts
      it to RGBA colorspace * 8-digit hex codes use AABBGGRR (R - red, G - 
      green, B - blue, A - alpha transparency)</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#hex8_to_rgba">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="load_session"></a><span class="summary-sig-name">load_session</span>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">session_key</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#load_session">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.common.utils-module.html#valid_browser" class="summary-sig-name">valid_browser</a>(<span class="summary-sig-arg">ua</span>)</span><br />
      Returns boolean depending on whether we support their browser based 
      on their HTTP_USER_AGENT</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#valid_browser">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="isCCW"></a><span class="summary-sig-name">isCCW</span>(<span class="summary-sig-arg">ring</span>)</span><br />
      Determines if a LinearRing is oriented counter-clockwise or not</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#isCCW">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="forceRHR"></a><span class="summary-sig-name">forceRHR</span>(<span class="summary-sig-arg">polygon</span>)</span><br />
      reverses rings so that polygon follows the Right-hand rule exterior 
      ring = clockwise interior rings = counter-clockwise</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#forceRHR">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="forceLHR"></a><span class="summary-sig-name">forceLHR</span>(<span class="summary-sig-arg">polygon</span>)</span><br />
      reverses rings so that geometry complies with the LEFT-hand rule 
      Google Earth KML requires this oddity exterior ring = 
      counter-clockwise interior rings = clockwise</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#forceLHR">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.common.utils-module.html#asKml" class="summary-sig-name">asKml</a>(<span class="summary-sig-arg">input_geom</span>,
        <span class="summary-sig-arg">altitudeMode</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">uid</span>=<span class="summary-sig-default">''</span>)</span><br />
      Performs three critical functions for creating suitable KML 
      geometries:</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#asKml">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="enable_sharing"></a><span class="summary-sig-name">enable_sharing</span>(<span class="summary-sig-arg">group</span>=<span class="summary-sig-default">None</span>)</span><br />
      Give group permission to share models Permissions are attached to 
      models but we want this perm to be 'global' Fake it by attaching the 
      perm to the Group model (from the auth app) We check for this perm 
      like: user1.has_perm(&quot;auth.can_share_features&quot;)</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#enable_sharing">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="fetch_resources"></a><span class="summary-sig-name">fetch_resources</span>(<span class="summary-sig-arg">uri</span>,
        <span class="summary-sig-arg">rel</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#fetch_resources">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="get_params_from_uri"></a><span class="summary-sig-name">get_params_from_uri</span>(<span class="summary-sig-arg">uri</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#get_params_from_uri">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="is_text"></a><span class="summary-sig-name">is_text</span>(<span class="summary-sig-arg">s</span>)</span><br />
      Tests a string to see if it's binary borrowed from 
      http://code.activestate.com/recipes/173220-test-if-a-file-or-string-is-text-or-binary/</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.common.utils-pysrc.html#is_text">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="log"></a><span class="summary-name">log</span> = <code title="get_logger()">get_logger()</code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="spike_ring_indecies"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">spike_ring_indecies</span>(<span class="sig-arg">line_ring</span>,
        <span class="sig-arg">threshold</span>=<span class="sig-default">0.01</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.common.utils-pysrc.html#spike_ring_indecies">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a list of point indexes if ring contains spikes (angles of 
  less than threshold degrees). Otherwise, an empty list.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="remove_spikes"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">remove_spikes</span>(<span class="sig-arg">poly</span>,
        <span class="sig-arg">threshold</span>=<span class="sig-default">0.01</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.common.utils-pysrc.html#remove_spikes">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Looks for spikes (angles &lt; threshold degrees) in the polygons 
  exterior ring.  If there are spikes, they will be removed and a polygon 
  (without spikes) will be returned.  If no spikes are found, method will 
  return original geometry.</p>
  <p>NOTE: This method does not examine or fix interior rings.  So far 
  those haven't seemed to have been a problem.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="valid_browser"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">valid_browser</span>(<span class="sig-arg">ua</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.common.utils-pysrc.html#valid_browser">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns boolean depending on whether we support their browser based on
  their HTTP_USER_AGENT</p>
  <p>Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.1.7) 
  Gecko/20091221 Firefox/3.5.7 Mozilla/5.0 (Macintosh; U; Intel Mac OS X 
  10_6_2; en-us) AppleWebKit/531.21.8 (KHTML, like Gecko) Version/4.0.4 
  Safari/531.21.10 Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0b7) 
  Gecko/20100101 Firefox/4.0b7</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="asKml"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">asKml</span>(<span class="sig-arg">input_geom</span>,
        <span class="sig-arg">altitudeMode</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">uid</span>=<span class="sig-default">''</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.common.utils-pysrc.html#asKml">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Performs three critical functions for creating suitable KML 
  geometries:</p>
  <ul>
    <li>
      simplifies the geoms (lines, polygons only)
    </li>
    <li>
      forces left-hand rule orientation
    </li>
    <li>
      sets the altitudeMode shape (usually one of: absolute, clampToGround,
      relativeToGround)
    </li>
  </ul>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="madrona-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Mon Apr  2 13:15:49 2012
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
