<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>madrona.features.views</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="madrona-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="madrona-module.html">Package&nbsp;madrona</a> ::
        <a href="madrona.features-module.html">Package&nbsp;features</a> ::
        Module&nbsp;views
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module views</h1><p class="nomargin-top"><span class="codelink"><a href="madrona.features.views-pysrc.html">source&nbsp;code</a></span></p>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#get_object_for_editing" class="summary-sig-name">get_object_for_editing</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">uid</span>,
        <span class="summary-sig-arg">target_klass</span>=<span class="summary-sig-default">None</span>)</span><br />
      Return the specified instance by uid for editing.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#get_object_for_editing">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#get_object_for_viewing" class="summary-sig-name">get_object_for_viewing</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">uid</span>,
        <span class="summary-sig-arg">target_klass</span>=<span class="summary-sig-default">None</span>)</span><br />
      Return the specified instance by uid for viewing.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#get_object_for_viewing">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#handle_link" class="summary-sig-name">handle_link</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">uids</span>,
        <span class="summary-sig-arg">link</span>=<span class="summary-sig-default">None</span>)</span><br />
      Handles all requests to views setup via features.register using Link 
objects.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#handle_link">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#delete" class="summary-sig-name">delete</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">model</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">uid</span>=<span class="summary-sig-default">None</span>)</span><br />
      When calling, provide the request object, reference to the resource 
      class, and the primary key of the object to delete.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#delete">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="multi_delete"></a><span class="summary-sig-name">multi_delete</span>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">instances</span>)</span><br />
      Generic view to delete multiple instances</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#multi_delete">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#create" class="summary-sig-name">create</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">model</span>,
        <span class="summary-sig-arg">action</span>)</span><br />
      When calling, provide the request object and a ModelForm class</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#create">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#create_form" class="summary-sig-name">create_form</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">model</span>,
        <span class="summary-sig-arg">action</span>=<span class="summary-sig-default">None</span>)</span><br />
      Serves a form for creating new objects</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#create_form">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="update_form"></a><span class="summary-sig-name">update_form</span>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">model</span>,
        <span class="summary-sig-arg">uid</span>)</span><br />
      Returns a form for editing features</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#update_form">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#update" class="summary-sig-name">update</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">model</span>,
        <span class="summary-sig-arg">uid</span>)</span><br />
      When calling, provide the request object, a model class, and the
primary key of the instance to be updated.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#update">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#resource" class="summary-sig-name">resource</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">model</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">uid</span>=<span class="summary-sig-default">None</span>)</span><br />
      Provides a resource for a django model that can be utilized by the 
madrona.features client module.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#resource">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="form_resources"></a><span class="summary-sig-name">form_resources</span>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">model</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">uid</span>=<span class="summary-sig-default">None</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#form_resources">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="decorate_with_manipulators"></a><span class="summary-sig-name">decorate_with_manipulators</span>(<span class="summary-sig-arg">extra_context</span>,
        <span class="summary-sig-arg">form_class</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#decorate_with_manipulators">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#copy" class="summary-sig-name">copy</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">instances</span>)</span><br />
      Generic view that can be used to copy any feature classes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#copy">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="kml"></a><span class="summary-sig-name">kml</span>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">instances</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#kml">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="kmz"></a><span class="summary-sig-name">kmz</span>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">instances</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#kmz">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#kml_core" class="summary-sig-name">kml_core</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">instances</span>,
        <span class="summary-sig-arg">kmz</span>)</span><br />
      Generic view for KML representation of feature classes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#kml_core">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#share_form" class="summary-sig-name">share_form</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">model</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">uid</span>=<span class="summary-sig-default">None</span>)</span><br />
      Generic view for showing the sharing form for an object</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#share_form">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="manage_collection"></a><span class="summary-sig-name">manage_collection</span>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">action</span>,
        <span class="summary-sig-arg">uids</span>,
        <span class="summary-sig-arg">collection_model</span>,
        <span class="summary-sig-arg">collection_uid</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#manage_collection">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#workspace" class="summary-sig-name">workspace</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">username</span>,
        <span class="summary-sig-arg">is_owner</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#workspace">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#feature_tree_css" class="summary-sig-name">feature_tree_css</a>(<span class="summary-sig-arg">request</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#feature_tree_css">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#to_response" class="summary-sig-name">to_response</a>(<span class="summary-sig-arg">status</span>=<span class="summary-sig-default">200</span>,
        <span class="summary-sig-arg">select</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">show</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">parent</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">untoggle</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">location</span>=<span class="summary-sig-default">None</span>)</span><br />
      Will return an appropriately structured response that the client can 
interpret to carry out the following actions:</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#to_response">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="to_csv"></a><span class="summary-sig-name">to_csv</span>(<span class="summary-sig-arg">features</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#to_csv">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="has_features"></a><span class="summary-sig-name">has_features</span>(<span class="summary-sig-arg">user</span>)</span><br />
      Util function to determine if a user owns any features</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#has_features">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="madrona.features.views-module.html#geojson_link" class="summary-sig-name">geojson_link</a>(<span class="summary-sig-arg">request</span>,
        <span class="summary-sig-arg">instances</span>)</span><br />
      Generic view for GeoJSON representation of feature classes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="madrona.features.views-pysrc.html#geojson_link">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="logger"></a><span class="summary-name">logger</span> = <code title="get_logger()">get_logger()</code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="get_object_for_editing"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get_object_for_editing</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">uid</span>,
        <span class="sig-arg">target_klass</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#get_object_for_editing">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Return the specified instance by uid for editing.
If a target_klass is provided, uid will be checked for consistency.
If the request has no logged-in user, a 401 Response will be returned. If 
the item is not found, a 404 Response will be returned. If the user is 
not authorized to edit the item (not the owner or a staff user), a 403 Not
Authorized Response will be returned.

usage:

instance = get_object_for_editing(request, 'mlpa_mpa_12', target_klass=Mpa)
if isinstance(instance, HttpResponse):
    return instance

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="get_object_for_viewing"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get_object_for_viewing</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">uid</span>,
        <span class="sig-arg">target_klass</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#get_object_for_viewing">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Return the specified instance by uid for viewing.
If a target_klass is provided, uid will be checked for consistency.
If the request has no authenticated user, a 401 Response will be returned.
If the item is not found, a 404 Response will be returned. If the user is 
not authorized to view the item (not the owner or part of a group the item
is shared with), a 403 Not Authorized Response will be returned.

usage:

instance = get_object_for_viewing(request, 'mlpa_mpa_12', target_klass=Mpa)
if isinstance(instance, HttpResponse):
    return instance

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="handle_link"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">handle_link</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">uids</span>,
        <span class="sig-arg">link</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#handle_link">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Handles all requests to views setup via features.register using Link 
objects.

Assuming a valid request, this generic view will call the view specified 
by the link including an instance or instances argument containing the 
relavent Feature(s).

If the incoming request is invalid, any one of the following errors may be
returned:

401: login required
403: user does not have permission (not admin user or doesn't own object 
     to be edited)
404: feature(s) could not be found
400: requested for feature classes not supported by this view
5xx: server error

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="delete"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">delete</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">model</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">uid</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#delete">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>When calling, provide the request object, reference to the resource 
  class, and the primary key of the object to delete.</p>
  <p>Possible response codes:</p>
  <p>200: delete operation successful 401: login required 403: user does 
  not have permission (not admin user or doesn't own object) 404: resource 
  for deletion could not be found 5xx: server error</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="create"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">create</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">model</span>,
        <span class="sig-arg">action</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#create">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

When calling, provide the request object and a ModelForm class

    POST:   Create a new instance from filled out ModelForm

        201: Created. Response body includes representation of resource
        400: Validation error. Response body includes form. Form should
            be displayed back to the user for correction.
        401: Not logged in.
        5xx: Server error.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="create_form"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">create_form</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">model</span>,
        <span class="sig-arg">action</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#create_form">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Serves a form for creating new objects</p>
  <p>GET only</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="update"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">update</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">model</span>,
        <span class="sig-arg">uid</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#update">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

When calling, provide the request object, a model class, and the
primary key of the instance to be updated.

    POST: Update instance.

        possible response codes:

        200: OK. Object updated and in response body.
        400: Form validation error. Present form back to user.
        401: Not logged in.
        403: Forbidden. User is not staff or does not own object.
        404: Instance for uid not found.
        5xx: Server error.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="resource"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">resource</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">model</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">uid</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#resource">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Provides a resource for a django model that can be utilized by the 
madrona.features client module.

Implements actions for the following http actions:

    POST:   Update an object
    DELETE: Delete it
    GET:    Provide a page representing the model. For MPAs, this is the 
            MPA attributes screen. The madrona client will display this
            page in the sidebar whenever the object is brought into focus. 

            To implement GET, this view needs to be passed a view function
            that returns an HttpResponse or a template can be specified
            that will be passed the instance and an optional extra_context

Uses madrona.features.views.update and madrona.feature.views.delete

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="copy"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">copy</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">instances</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#copy">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generic view that can be used to copy any feature classes. Supports 
  requests referencing multiple instances.</p>
  <p>To copy, this view will call the copy() method with the request's user
  as it's sole argument. The Feature base class has a generic copy method, 
  but developers can override it. A poorly implemented copy method that 
  does not return the copied instance will raise an exception here.</p>
  <p>This view returns a space-delimited list of the Feature uid's for 
  selection in the user-interface after this operation via the 
  X-Madrona-Select response header.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="kml_core"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">kml_core</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">instances</span>,
        <span class="sig-arg">kmz</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#kml_core">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generic view for KML representation of feature classes. Can be 
  overridden in options but this provided a default.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="share_form"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">share_form</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">model</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">uid</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#share_form">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Generic view for showing the sharing form for an object

    POST:   Update the sharing status of an object
    GET:    Provide an html form for selecting groups
            to which the feature will be shared.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="workspace"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">workspace</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">username</span>,
        <span class="sig-arg">is_owner</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#workspace">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@cache_page(60* 60)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="feature_tree_css"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">feature_tree_css</span>(<span class="sig-arg">request</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#feature_tree_css">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@cache_page(60* 60)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="to_response"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">to_response</span>(<span class="sig-arg">status</span>=<span class="sig-default">200</span>,
        <span class="sig-arg">select</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">show</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">parent</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">untoggle</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">location</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#to_response">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Will return an appropriately structured response that the client can 
interpret to carry out the following actions:

    select
        Accepts a list of features. Tells the client to select these 
        features in the user interface after an editing operation

    show
        Accepts a single feature. Client will show that feature's 
        attribute window in the sidebar

    untoggle
        Accepts a list of features. Useful for toggling the visibility of
        original features that are being copied so there are not multiple
        overlapping copies on the map

    parent
        Gives a hint to the client that the edited feature falls within a
        particular FeatureCollection. Without this hint the client may not
        in all cases be able to perform select and show behaviors.

These behaviors are intended to be specified to the client using 
X-Madrona- style headers in the response. Unfortunately, we have to post
some forms via an iframe in order to upload files. This makes it 
impossible to get the response headers on the client end. This function
therefor currently also returns all headers in a json structure in the 
response body.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="geojson_link"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">geojson_link</span>(<span class="sig-arg">request</span>,
        <span class="sig-arg">instances</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="madrona.features.views-pysrc.html#geojson_link">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Generic view for GeoJSON representation of feature classes. 
Can be overridden but this is provided a default.

To override, feature class needs a geojson object that returns 
   a geojson feature string (no trailing comma)::

  { &quot;type&quot;: &quot;Feature&quot;,
    &quot;geometry&quot;: {&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [102.0, 0.5]},
    &quot;properties&quot;: {&quot;prop0&quot;: &quot;value0&quot;}
  }

GeoJSON Feature collections *cannot* be nested within other feature collections
http://lists.geojson.org/pipermail/geojson-geojson.org/2008-October/000464.html
Thus collections can be treated using one of the following strategies: 

  ``flat``: (DEFAULT) The collection is &quot;flattened&quot; to contain all the  
      features in a single featurecollection (lossy)

  ``nest_feature_set``: the collection is represented as an empty geometry with a special
      feature_set property; a list of UIDs to fetch 
      (requires a client with knowledge of this convention)

Pass by URL GET parameter like ?strategy=nest_feature_set

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="madrona-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Oct 30 11:31:01 2012
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
